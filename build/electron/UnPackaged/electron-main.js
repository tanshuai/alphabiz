module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=96)}([function(e,t){e.exports=require("electron")},function(e,t){e.exports=require("winreg")},function(e,t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof global&&global)||function(){return this}()||Function("return this")()},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("fs")},function(e,t){var n=Function.prototype,r=n.bind,o=n.call,s=r&&r.bind(o);e.exports=r?function(e){return e&&s(o,e)}:function(e){return e&&function(){return o.apply(e,arguments)}}},function(e,t){e.exports=function(e){return"function"==typeof e}},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t,n){var r=n(2),o=n(43),s=n(12),i=n(62),a=n(63),l=n(64),c=o("wks"),u=r.Symbol,p=u&&u["for"],d=l?u:u&&u.withoutSetter||i;e.exports=function(e){if(!s(c,e)||!a&&"string"!=typeof c[e]){var t="Symbol."+e;a&&s(u,e)?c[e]=u[e]:c[e]=l&&p?p(t):d(t)}return c[e]}},function(e,t,n){var r=n(2),o=n(97),s=n(98),i=n(59),a=n(21),l=n(8),c=l("iterator"),u=l("toStringTag"),p=i.values,d=function(e,t){if(e){if(e[c]!==p)try{a(e,c,p)}catch(r){e[c]=p}if(e[u]||a(e,u,t),o[t])for(var n in i)if(e[n]!==i[n])try{a(e,n,i[n])}catch(r){e[n]=i[n]}}};for(var f in o)d(r[f]&&r[f].prototype,f);d(s,"DOMTokenList")},function(e,t){var n=Function.prototype.call;e.exports=n.bind?n.bind(n):function(){return n.apply(n,arguments)}},function(e,t,n){var r=n(2),o=n(15),s=r.String,i=r.TypeError;e.exports=function(e){if(o(e))return e;throw i(s(e)+" is not an object")}},function(e,t,n){var r=n(5),o=n(17),s=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return s(o(e),t)}},function(e,t,n){var r=n(7);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t){function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(6);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},function(e,t,n){var r=n(2),o=n(6),s=n(12),i=n(21),a=n(45),l=n(51),c=n(20),u=n(76).CONFIGURABLE,p=c.get,d=c.enforce,f=String(String).split("String");(e.exports=function(e,t,n,l){var c,p=!!l&&!!l.unsafe,h=!!l&&!!l.enumerable,g=!!l&&!!l.noTargetGet,m=l&&void 0!==l.name?l.name:t;o(n)&&("Symbol("===String(m).slice(0,7)&&(m="["+String(m).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!s(n,"name")||u&&n.name!==m)&&i(n,"name",m),c=d(n),c.source||(c.source=f.join("string"==typeof m?m:""))),e!==r?(p?!g&&e[t]&&(h=!0):delete e[t],h?e[t]=n:i(e,t,n)):h?e[t]=n:a(t,n)})(Function.prototype,"toString",(function(){return o(this)&&p(this).source||l(this)}))},function(e,t,n){var r=n(2),o=n(33),s=r.Object;e.exports=function(e){return s(o(e))}},function(e,t,n){var r=n(2),o=n(6),s=function(e){return o(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?s(r[e]):r[e]&&r[e][t]}},function(e,t,n){var r=n(2),o=n(13),s=n(66),i=n(11),a=n(46),l=r.TypeError,c=Object.defineProperty;t.f=o?c:function(e,t,n){if(i(e),t=a(t),i(n),s)try{return c(e,t,n)}catch(r){}if("get"in n||"set"in n)throw l("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r,o,s,i=n(106),a=n(2),l=n(5),c=n(15),u=n(21),p=n(12),d=n(44),f=n(50),h=n(48),g="Object already initialized",m=a.TypeError,v=a.WeakMap,w=function(e){return s(e)?o(e):r(e,{})},b=function(e){return function(t){var n;if(!c(t)||(n=o(t)).type!==e)throw m("Incompatible receiver, "+e+" required");return n}};if(i||d.state){var y=d.state||(d.state=new v),x=l(y.get),S=l(y.has),_=l(y.set);r=function(e,t){if(S(y,e))throw new m(g);return t.facade=e,_(y,e,t),t},o=function(e){return x(y,e)||{}},s=function(e){return S(y,e)}}else{var k=f("state");h[k]=!0,r=function(e,t){if(p(e,k))throw new m(g);return t.facade=e,u(e,k,t),t},o=function(e){return p(e,k)?e[k]:{}},s=function(e){return p(e,k)}}e.exports={set:r,get:o,has:s,enforce:w,getterFor:b}},function(e,t,n){var r=n(13),o=n(19),s=n(29);e.exports=r?function(e,t,n){return o.f(e,t,s(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){"use strict";var r=n(116),o=n(10),s=n(5),i=n(117),a=n(7),l=n(11),c=n(6),u=n(27),p=n(72),d=n(23),f=n(33),h=n(124),g=n(35),m=n(125),v=n(126),w=n(8),b=w("replace"),y=Math.max,x=Math.min,S=s([].concat),_=s([].push),k=s("".indexOf),U=s("".slice),C=function(e){return void 0===e?e:String(e)},A=function(){return"$0"==="a".replace(/./,"$0")}(),j=function(){return!!/./[b]&&""===/./[b]("a","$0")}(),T=!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));i("replace",(function(e,t,n){var s=j?"$":"$0";return[function(e,n){var r=f(this),s=void 0==e?void 0:g(e,b);return s?o(s,e,r,n):o(t,d(r),e,n)},function(e,o){var i=l(this),a=d(e);if("string"==typeof o&&-1===k(o,s)&&-1===k(o,"$<")){var f=n(t,i,a,o);if(f.done)return f.value}var g=c(o);g||(o=d(o));var w=i.global;if(w){var b=i.unicode;i.lastIndex=0}var A=[];while(1){var j=v(i,a);if(null===j)break;if(_(A,j),!w)break;var T=d(j[0]);""===T&&(i.lastIndex=h(a,p(i.lastIndex),b))}for(var O="",P=0,R=0;R<A.length;R++){j=A[R];for(var L=d(j[0]),I=y(x(u(j.index),a.length),0),M=[],E=1;E<j.length;E++)_(M,C(j[E]));var $=j.groups;if(g){var q=S([L],M,I,a);void 0!==$&&_(q,$);var H=d(r(o,void 0,q))}else H=m(L,a,I,M,$,o);I>=P&&(O+=U(a,P,I)+H,P=I+L.length)}return O+U(a,P)}]}),!T||!A||j)},function(e,t,n){var r=n(2),o=n(38),s=r.String;e.exports=function(e){if("Symbol"===o(e))throw TypeError("Cannot convert a Symbol value to a string");return s(e)}},function(e,t){e.exports=require("axios")},function(e,t,n){var r=n(60),o=n(33);e.exports=function(e){return r(o(e))}},function(e,t,n){var r,o=n(11),s=n(65),i=n(49),a=n(48),l=n(105),c=n(42),u=n(50),p=">",d="<",f="prototype",h="script",g=u("IE_PROTO"),m=function(){},v=function(e){return d+h+p+e+d+"/"+h+p},w=function(e){e.write(v("")),e.close();var t=e.parentWindow.Object;return e=null,t},b=function(){var e,t=c("iframe"),n="java"+h+":";return t.style.display="none",l.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(v("document.F=Object")),e.close(),e.F},y=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}y="undefined"!=typeof document?document.domain&&r?w(r):b():w(r);var e=i.length;while(e--)delete y[f][i[e]];return y()};a[g]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(m[f]=o(e),n=new m,m[f]=null,n[g]=e):n=y(),void 0===t?n:s(n,t)}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){var t=+e;return t!==t||0===t?0:(t>0?r:n)(t)}},function(e,t){e.exports={}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(2),o=n(74).f,s=n(21),i=n(16),a=n(45),l=n(107),c=n(110);e.exports=function(e,t){var n,u,p,d,f,h,g=e.target,m=e.global,v=e.stat;if(u=m?r:v?r[g]||a(g,{}):(r[g]||{}).prototype,u)for(p in t){if(f=t[p],e.noTargetGet?(h=o(u,p),d=h&&h.value):d=u[p],n=c(m?p:g+(v?".":"#")+p,e.forced),!n&&void 0!==d){if(typeof f==typeof d)continue;l(f,d)}(e.sham||d&&d.sham)&&s(f,"sham",!0),i(u,p,f,e)}}},function(e,t){e.exports=require("os")},function(e,t,n){var r=n(5),o=r({}.toString),s=r("".slice);e.exports=function(e){return s(o(e),8,-1)}},function(e,t,n){var r=n(2),o=r.TypeError;e.exports=function(e){if(void 0==e)throw o("Can't call method on "+e);return e}},function(e,t){e.exports=!1},function(e,t,n){var r=n(47);e.exports=function(e,t){var n=e[t];return null==n?void 0:r(n)}},function(e,t,n){var r=n(72);e.exports=function(e){return r(e.length)}},function(e,t,n){var r=n(19).f,o=n(12),s=n(8),i=s("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t,n){var r=n(2),o=n(119),s=n(6),i=n(32),a=n(8),l=a("toStringTag"),c=r.Object,u="Arguments"==i(function(){return arguments}()),p=function(e,t){try{return e[t]}catch(n){}};e.exports=o?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=p(t=c(e),l))?n:u?i(t):"Object"==(r=i(t))&&s(t.callee)?"Arguments":r}},function(e,t,n){var r=n(5),o=n(47),s=r(r.bind);e.exports=function(e,t){return o(e),void 0===t?e:s?s(e,t):function(){return e.apply(t,arguments)}}},function(e,t){e.exports=require("semver")},function(e,t){e.exports=require("url")},function(e,t,n){var r=n(2),o=n(15),s=r.document,i=o(s)&&o(s.createElement);e.exports=function(e){return i?s.createElement(e):{}}},function(e,t,n){var r=n(34),o=n(44);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.19.1",mode:r?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(2),o=n(45),s="__core-js_shared__",i=r[s]||o(s,{});e.exports=i},function(e,t,n){var r=n(2),o=Object.defineProperty;e.exports=function(e,t){try{o(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},function(e,t,n){var r=n(101),o=n(67);e.exports=function(e){var t=r(e,"string");return o(t)?t:t+""}},function(e,t,n){var r=n(2),o=n(6),s=n(69),i=r.TypeError;e.exports=function(e){if(o(e))return e;throw i(s(e)+" is not a function")}},function(e,t){e.exports={}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,n){var r=n(43),o=n(62),s=r("keys");e.exports=function(e){return s[e]||(s[e]=o(e))}},function(e,t,n){var r=n(5),o=n(6),s=n(44),i=r(Function.toString);o(s.inspectSource)||(s.inspectSource=function(e){return i(e)}),e.exports=s.inspectSource},function(e){e.exports=JSON.parse('{"name":"alphabiz-app","main":"src-electron/main-process/electron-main.js","version":"0.1.0-nightly-202202161716","description":"Alphabiz Blockchain Cryptocurrency Application","productName":"Alphabiz","author":"Alphabiz Team <dev@alpha.biz>","private":true,"scripts":{"predev":"node get-git-commit-id.js","prebuild":"node get-git-commit-id.js","prebuild-spa":"node get-git-commit-id.js","prebuild-src":"node get-git-commit-id.js","preweb":"node get-git-commit-id.js","pretest:e2e":"node get-git-commit-id.js","pretest:e2e:ci":"node get-git-commit-id.js","pretest:e2e:electron":"node get-git-commit-id.js","pretest:e2e:electron:ci":"node get-git-commit-id.js","make-patch":"npx patch-package @quasar/app","dev":"quasar dev -m electron","web":"quasar d","build":"quasar build -m electron","build-spa":"quasar build","build-src":"quasar build -m electron --src","postbuild":"node src-electron/post-build","pack-app":"node pack-app","lint":"eslint --ext .js,.vue ./","postinstall":"patch-package && node ./node_modules/symlink-dir/dist/cli.js node_modules/@zeeis/velectron node_modules/electron && ./node_modules/.bin/electron-rebuild -v 11.5.0","test:unit":"jest --updateSnapshot --c=jest.config.js","test:unit:ci":"jest --ci","test:unit:coverage":"jest --coverage","test:unit:watch":"jest --watch","test:unit:watchAll":"jest --watchAll","serve:test:coverage":"quasar serve test/jest/coverage/lcov-report/ --port 8788","concurrently:dev:jest":"concurrently \\"quasar dev\\" \\"jest --watch\\"","test:e2e":"cross-env E2E_TEST=true start-test \\"quasar dev\\" http-get://localhost:8080 \\"cypress open\\"","test:e2e:ci":"cross-env E2E_TEST=true start-test \\"quasar dev\\" http-get://localhost:8080 \\"cypress run --spec \\"test/cypress/integration/main/**/*,test/cypress/integration/account/account.spec.js\\" --browser chrome\\"","test:e2e:ci-parallel":"cross-env E2E_TEST=true start-test \\"quasar dev\\" http-get://localhost:8080 \\"cypress run --spec \\"test/cypress/integration/main/**/*,test/cypress/integration/account/account-email.spec.js\\" --browser chrome\\"","test:e2e:electron:ci":"cross-env E2E_TEST=true start-test \\"quasar d -m electron --e2e\\" 8080 \\"xvfb-maybe -- playwright test\\"","test:e2e:electron":"quasar d -m electron --e2e","test:playwright":"playwright test","test:appium":"appium --log ./test/output/release/appium.log","test:release":"jest test/jest/release/main.spec.js --c=./test/jest/release/jest.config.js","test:release:creditsUpload":"jest test/jest/release/creditsUpload.spec.js --c=./test/jest/release/jest.config.js","test:release:creditsDownload":"jest test/jest/release/creditsDownload.spec.js --c=./test/jest/release/jest.config.js","make":"node make.js --make","make:win":"yarn make:squirrel && yarn make:msi","make:squirrel":"electron-forge make --skip-package --targets @electron-forge/maker-squirrel","make:msi":"electron-forge make --skip-package --targets @electron-forge/maker-wix","make:dmg":"electron-forge make --skip-package --targets @electron-forge/maker-dmg","make:deb":"electron-forge make --skip-package --targets @electron-forge/maker-deb","postmake":"node make.js --postmake"},"dependencies":{"@electron/remote":"2.x","@quasar/extras":"^1.0.0","axios":"^0.21.1","bittorrent-dht":"^10.0.0","bittorrent-tracker":"^9.17.3","bytebuffer":"^5.0.1","core-js":"^3.6.5","countries-list":"^2.6.1","electron-context-menu":"^3.1.1","electron-default-menu":"^1.0.2","electron-is":"^3.0.0","electron-squirrel-startup":"^1.0.0","electron-store":"^8.0.0","entities":"^3.0.1","font-awesome":"^4.7.0","libjass":"^0.11.0","lzma-native":"^8.0.1","magnet-uri":"^6.2.0","nan":"^2.14.2","nanoid":"^3.1.31","parse-torrent":"^9.1.3","qrcode":"^1.4.4","quasar":"^1.0.0","smtp-tester":"^1.2.0","symlink-dir":"^5.0.1","video.js":"^7.13.3","videojs-ass":"^0.8.0","videojs-ass-es6":"0.0.4","videojs-hotkeys":"^0.2.27","vue-i18n":"^8.24.5","vue-recaptcha-v3":"1.9.0","webtorrent":"^1.5.8","winreg":"^1.2.4"},"devDependencies":{"@electron-forge/cli":"^6.0.0-beta.63","@electron-forge/maker-deb":"^6.0.0-beta.63","@electron-forge/maker-dmg":"^6.0.0-beta.63","@electron-forge/maker-rpm":"^6.0.0-beta.63","@electron-forge/maker-squirrel":"^6.0.0-beta.63","@electron-forge/maker-wix":"^6.0.0-beta.63","@electron-forge/maker-zip":"^6.0.0-beta.63","@electron-forge/plugin-local-electron":"6.0.0-beta.63","@playwright/test":"^1.16.3","@quasar/app":"^2.0.0","@quasar/quasar-app-extension-testing":"^1.0.3","@quasar/quasar-app-extension-testing-e2e-cypress":"^3.1.0","@quasar/quasar-app-extension-testing-unit-jest":"^2.2.2","@types/plist":"^3.0.2","@zeeis/velectron":"^1.0.3","appium":"^1.22.1","aws-amplify":"^4.2.2","aws-amplify-vue":"^2.1.5","aws-sdk":"^2.1037.0","babel-eslint":"^10.0.1","chai":"^4.3.4","cypress":"^8.6.0","cypress-file-upload":"^5.0.8","devtron":"^1.4.0","dotenv":"^10.0.0","electron":"11.5.0","electron-debug":"^3.0.1","electron-devtools-installer":"^3.0.0","electron-installer-snap":"^5.1.0","electron-installer-zip":"^0.1.2","electron-packager":"^14.1.1","electron-rebuild":"^3.2.6","eslint":"^6.8.0","eslint-config-standard":"^14.1.0","eslint-loader":"^3.0.3","eslint-plugin-cypress":"^2.11.1","eslint-plugin-import":"^2.14.0","eslint-plugin-jest":"^24.1.0","eslint-plugin-node":"^11.0.0","eslint-plugin-promise":"^4.0.1","eslint-plugin-standard":"^4.0.0","eslint-plugin-vue":"^6.1.2","glob-parent":"^5.1.2","http-server":"^14.1.0","imap":"^0.8.19","jest-circus":"^27.4.2","jest-jasmine2":"^27.4.2","json":"^11.0.0","mail-listener2":"^0.3.1","mailparser":"^3.4.0","mocha":"^9.1.2","patch-package":"^6.4.7","playwright":"^1.16.3","plist":"^3.0.4","selenium-appium":"^1.0.2","selenium-webdriver":"^4.1.0","start-server-and-test":"^1.14.0","twilio":"^3.71.1","webdriverio":"^7.16.11","xvfb-maybe":"^0.2.1"},"optionalDependencies":{"electron-installer-debian":"^3.1.0","exe-icon-extractor":"^1.0.8"},"browserslist":["last 10 Chrome versions","last 10 Firefox versions","last 4 Edge versions","last 7 Safari versions","last 8 Android versions","last 8 ChromeAndroid versions","last 8 FirefoxAndroid versions","last 10 iOS versions","last 5 Opera versions"],"engines":{"node":">= 10.18.1","npm":">= 6.13.4","yarn":">= 1.21.1"},"config":{"forge":"./forge.config.js"}}')},function(e,t,n){"use strict";var r=n(10),o=n(5),s=n(23),i=n(120),a=n(121),l=n(43),c=n(26),u=n(20).get,p=n(122),d=n(123),f=l("native-string-replace",String.prototype.replace),h=RegExp.prototype.exec,g=h,m=o("".charAt),v=o("".indexOf),w=o("".replace),b=o("".slice),y=function(){var e=/a/,t=/b*/g;return r(h,e,"a"),r(h,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),x=a.UNSUPPORTED_Y||a.BROKEN_CARET,S=void 0!==/()??/.exec("")[1],_=y||S||x||p||d;_&&(g=function(e){var t,n,o,a,l,p,d,_=this,k=u(_),U=s(e),C=k.raw;if(C)return C.lastIndex=_.lastIndex,t=r(g,C,U),_.lastIndex=C.lastIndex,t;var A=k.groups,j=x&&_.sticky,T=r(i,_),O=_.source,P=0,R=U;if(j&&(T=w(T,"y",""),-1===v(T,"g")&&(T+="g"),R=b(U,_.lastIndex),_.lastIndex>0&&(!_.multiline||_.multiline&&"\n"!==m(U,_.lastIndex-1))&&(O="(?: "+O+")",R=" "+R,P++),n=new RegExp("^(?:"+O+")",T)),S&&(n=new RegExp("^"+O+"$(?!\\s)",T)),y&&(o=_.lastIndex),a=r(h,j?n:_,R),j?a?(a.input=b(a.input,P),a[0]=b(a[0],P),a.index=_.lastIndex,_.lastIndex+=a[0].length):_.lastIndex=0:y&&a&&(_.lastIndex=_.global?a.index+a[0].length:o),S&&a&&a.length>1&&r(f,a[0],n,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(a[l]=void 0)})),a&&A)for(a.groups=p=c(null),l=0;l<A.length;l++)d=A[l],p[d[0]]=a[d[1]];return a}),e.exports=g},function(e,t,n){var r=n(5),o=n(27),s=n(23),i=n(33),a=r("".charAt),l=r("".charCodeAt),c=r("".slice),u=function(e){return function(t,n){var r,u,p=s(i(t)),d=o(n),f=p.length;return d<0||d>=f?e?"":void 0:(r=l(p,d),r<55296||r>56319||d+1===f||(u=l(p,d+1))<56320||u>57343?e?a(p,d):r:e?c(p,d,d+2):u-56320+(r-55296<<10)+65536)}};e.exports={codeAt:u(!1),charAt:u(!0)}},function(e,t,n){var r=n(38),o=n(35),s=n(28),i=n(8),a=i("iterator");e.exports=function(e){if(void 0!=e)return o(e,a)||o(e,"@@iterator")||s[r(e)]}},function(e,t,n){"use strict";n(59);var r=n(30),o=n(2),s=n(18),i=n(10),a=n(5),l=n(86),c=n(16),u=n(138),p=n(37),d=n(78),f=n(20),h=n(87),g=n(6),m=n(12),v=n(39),w=n(38),b=n(11),y=n(15),x=n(23),S=n(26),_=n(29),k=n(88),U=n(55),C=n(8),A=n(139),j=C("iterator"),T="URLSearchParams",O=T+"Iterator",P=f.set,R=f.getterFor(T),L=f.getterFor(O),I=s("fetch"),M=s("Request"),E=s("Headers"),$=M&&M.prototype,q=E&&E.prototype,H=o.RegExp,F=o.TypeError,D=o.decodeURIComponent,B=o.encodeURIComponent,z=a("".charAt),N=a([].join),G=a([].push),W=a("".replace),K=a([].shift),V=a([].splice),Q=a("".split),Z=a("".slice),J=/\+/g,Y=Array(4),X=function(e){return Y[e-1]||(Y[e-1]=H("((?:%[\\da-f]{2}){"+e+"})","gi"))},ee=function(e){try{return D(e)}catch(t){return e}},te=function(e){var t=W(e,J," "),n=4;try{return D(t)}catch(r){while(n)t=W(t,X(n--),ee);return t}},ne=/[!'()~]|%20/g,re={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},oe=function(e){return re[e]},se=function(e){return W(B(e),ne,oe)},ie=function(e,t){if(t){var n,r,o=Q(t,"&"),s=0;while(s<o.length)n=o[s++],n.length&&(r=Q(n,"="),G(e,{key:te(K(r)),value:te(N(r,"="))}))}},ae=function(e){this.entries.length=0,ie(this.entries,e)},le=function(e,t){if(e<t)throw F("Not enough arguments")},ce=d((function(e,t){P(this,{type:O,iterator:k(R(e).entries),kind:t})}),"Iterator",(function(){var e=L(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n})),ue=function(){h(this,pe);var e,t,n,r,o,s,a,l,c,u=arguments.length>0?arguments[0]:void 0,p=this,d=[];if(P(p,{type:T,entries:d,updateURL:function(){},updateSearchParams:ae}),void 0!==u)if(y(u))if(e=U(u),e){t=k(u,e),n=t.next;while(!(r=i(n,t)).done){if(o=k(b(r.value)),s=o.next,(a=i(s,o)).done||(l=i(s,o)).done||!i(s,o).done)throw F("Expected sequence with length 2");G(d,{key:x(a.value),value:x(l.value)})}}else for(c in u)m(u,c)&&G(d,{key:c,value:x(u[c])});else ie(d,"string"==typeof u?"?"===z(u,0)?Z(u,1):u:x(u))},pe=ue.prototype;if(u(pe,{append:function(e,t){le(arguments.length,2);var n=R(this);G(n.entries,{key:x(e),value:x(t)}),n.updateURL()},delete:function(e){le(arguments.length,1);var t=R(this),n=t.entries,r=x(e),o=0;while(o<n.length)n[o].key===r?V(n,o,1):o++;t.updateURL()},get:function(e){le(arguments.length,1);for(var t=R(this).entries,n=x(e),r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){le(arguments.length,1);for(var t=R(this).entries,n=x(e),r=[],o=0;o<t.length;o++)t[o].key===n&&G(r,t[o].value);return r},has:function(e){le(arguments.length,1);var t=R(this).entries,n=x(e),r=0;while(r<t.length)if(t[r++].key===n)return!0;return!1},set:function(e,t){le(arguments.length,1);for(var n,r=R(this),o=r.entries,s=!1,i=x(e),a=x(t),l=0;l<o.length;l++)n=o[l],n.key===i&&(s?V(o,l--,1):(s=!0,n.value=a));s||G(o,{key:i,value:a}),r.updateURL()},sort:function(){var e=R(this);A(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){var t,n=R(this).entries,r=v(e,arguments.length>1?arguments[1]:void 0),o=0;while(o<n.length)t=n[o++],r(t.value,t.key,this)},keys:function(){return new ce(this,"keys")},values:function(){return new ce(this,"values")},entries:function(){return new ce(this,"entries")}},{enumerable:!0}),c(pe,j,pe.entries,{name:"entries"}),c(pe,"toString",(function(){var e,t=R(this).entries,n=[],r=0;while(r<t.length)e=t[r++],G(n,se(e.key)+"="+se(e.value));return N(n,"&")}),{enumerable:!0}),p(ue,T),r({global:!0,forced:!l},{URLSearchParams:ue}),!l&&g(E)){var de=a(q.has),fe=a(q.set),he=function(e){if(y(e)){var t,n=e.body;if(w(n)===T)return t=e.headers?new E(e.headers):new E,de(t,"content-type")||fe(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),S(e,{body:_(0,x(n)),headers:_(0,t)})}return e};if(g(I)&&r({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return I(e,arguments.length>1?he(arguments[1]):{})}}),g(M)){var ge=function(e){return h(this,$),new M(e,arguments.length>1?he(arguments[1]):{})};$.constructor=ge,ge.prototype=$,r({global:!0,forced:!0},{Request:ge})}}e.exports={URLSearchParams:ue,getState:R}},function(e,t){e.exports=require("electron-store")},function(e,t){e.exports=require("lzma-native")},function(e,t,n){"use strict";var r=n(25),o=n(61),s=n(28),i=n(20),a=n(73),l="Array Iterator",c=i.set,u=i.getterFor(l);e.exports=a(Array,"Array",(function(e,t){c(this,{type:l,target:r(e),index:0,kind:t})}),(function(){var e=u(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),s.Arguments=s.Array,o("keys"),o("values"),o("entries")},function(e,t,n){var r=n(2),o=n(5),s=n(7),i=n(32),a=r.Object,l=o("".split);e.exports=s((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?l(e,""):a(e)}:a},function(e,t,n){var r=n(8),o=n(26),s=n(19),i=r("unscopables"),a=Array.prototype;void 0==a[i]&&s.f(a,i,{configurable:!0,value:o(null)}),e.exports=function(e){a[i][e]=!0}},function(e,t,n){var r=n(5),o=0,s=Math.random(),i=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+i(++o+s,36)}},function(e,t,n){var r=n(99),o=n(7);e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},function(e,t,n){var r=n(63);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){var r=n(13),o=n(19),s=n(11),i=n(25),a=n(70);e.exports=r?Object.defineProperties:function(e,t){s(e);var n,r=i(t),l=a(t),c=l.length,u=0;while(c>u)o.f(e,n=l[u++],r[n]);return e}},function(e,t,n){var r=n(13),o=n(7),s=n(42);e.exports=!r&&!o((function(){return 7!=Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(2),o=n(18),s=n(6),i=n(68),a=n(64),l=r.Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=o("Symbol");return s(t)&&i(t.prototype,l(e))}},function(e,t,n){var r=n(5);e.exports=r({}.isPrototypeOf)},function(e,t,n){var r=n(2),o=r.String;e.exports=function(e){try{return o(e)}catch(t){return"Object"}}},function(e,t,n){var r=n(71),o=n(49);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t,n){var r=n(5),o=n(12),s=n(25),i=n(103).indexOf,a=n(48),l=r([].push);e.exports=function(e,t){var n,r=s(e),c=0,u=[];for(n in r)!o(a,n)&&o(r,n)&&l(u,n);while(t.length>c)o(r,n=t[c++])&&(~i(u,n)||l(u,n));return u}},function(e,t,n){var r=n(27),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){"use strict";var r=n(30),o=n(10),s=n(34),i=n(76),a=n(6),l=n(78),c=n(80),u=n(112),p=n(37),d=n(21),f=n(16),h=n(8),g=n(28),m=n(79),v=i.PROPER,w=i.CONFIGURABLE,b=m.IteratorPrototype,y=m.BUGGY_SAFARI_ITERATORS,x=h("iterator"),S="keys",_="values",k="entries",U=function(){return this};e.exports=function(e,t,n,i,h,m,C){l(n,t,i);var A,j,T,O=function(e){if(e===h&&M)return M;if(!y&&e in L)return L[e];switch(e){case S:return function(){return new n(this,e)};case _:return function(){return new n(this,e)};case k:return function(){return new n(this,e)}}return function(){return new n(this)}},P=t+" Iterator",R=!1,L=e.prototype,I=L[x]||L["@@iterator"]||h&&L[h],M=!y&&I||O(h),E="Array"==t&&L.entries||I;if(E&&(A=c(E.call(new e)),A!==Object.prototype&&A.next&&(s||c(A)===b||(u?u(A,b):a(A[x])||f(A,x,U)),p(A,P,!0,!0),s&&(g[P]=U))),v&&h==_&&I&&I.name!==_&&(!s&&w?d(L,"name",_):(R=!0,M=function(){return o(I,this)})),h)if(j={values:O(_),keys:m?M:O(S),entries:O(k)},C)for(T in j)(y||R||!(T in L))&&f(L,T,j[T]);else r({target:t,proto:!0,forced:y||R},j);return s&&!C||L[x]===M||f(L,x,M,{name:h}),g[t]=M,j}},function(e,t,n){var r=n(13),o=n(10),s=n(75),i=n(29),a=n(25),l=n(46),c=n(12),u=n(66),p=Object.getOwnPropertyDescriptor;t.f=r?p:function(e,t){if(e=a(e),t=l(t),u)try{return p(e,t)}catch(n){}if(c(e,t))return i(!o(s.f,e,t),e[t])}},function(e,t,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,s=o&&!r.call({1:2},1);t.f=s?function(e){var t=o(this,e);return!!t&&t.enumerable}:r},function(e,t,n){var r=n(13),o=n(12),s=Function.prototype,i=r&&Object.getOwnPropertyDescriptor,a=o(s,"name"),l=a&&"something"===function(){}.name,c=a&&(!r||r&&i(s,"name").configurable);e.exports={EXISTS:a,PROPER:l,CONFIGURABLE:c}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){"use strict";var r=n(79).IteratorPrototype,o=n(26),s=n(29),i=n(37),a=n(28),l=function(){return this};e.exports=function(e,t,n){var c=t+" Iterator";return e.prototype=o(r,{next:s(1,n)}),i(e,c,!1,!0),a[c]=l,e}},function(e,t,n){"use strict";var r,o,s,i=n(7),a=n(6),l=n(26),c=n(80),u=n(16),p=n(8),d=n(34),f=p("iterator"),h=!1;[].keys&&(s=[].keys(),"next"in s?(o=c(c(s)),o!==Object.prototype&&(r=o)):h=!0);var g=void 0==r||i((function(){var e={};return r[f].call(e)!==e}));g?r={}:d&&(r=l(r)),a(r[f])||u(r,f,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},function(e,t,n){var r=n(2),o=n(12),s=n(6),i=n(17),a=n(50),l=n(111),c=a("IE_PROTO"),u=r.Object,p=u.prototype;e.exports=l?u.getPrototypeOf:function(e){var t=i(e);if(o(t,c))return t[c];var n=t.constructor;return s(n)&&t instanceof n?n.prototype:t instanceof u?p:null}},function(e,t,n){"use strict";var r=n(30),o=n(127),s=n(17),i=n(36),a=n(27),l=n(128);r({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=s(this),n=i(t),r=l(t,0);return r.length=o(r,t,t,n,0,void 0===e?1:a(e)),r}})},function(e,t,n){var r=n(32);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(5),o=n(7),s=n(6),i=n(38),a=n(18),l=n(51),c=function(){},u=[],p=a("Reflect","construct"),d=/^\s*(?:class|function)\b/,f=r(d.exec),h=!d.exec(c),g=function(e){if(!s(e))return!1;try{return p(c,u,e),!0}catch(t){return!1}},m=function(e){if(!s(e))return!1;switch(i(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return h||!!f(d,l(e))};e.exports=!p||o((function(){var e;return g(g.call)||!g(Object)||!g((function(){e=!0}))||e}))?m:g},function(e,t,n){var r=n(61);r("flat")},function(e,t,n){"use strict";n(130);var r,o=n(30),s=n(13),i=n(86),a=n(2),l=n(39),c=n(10),u=n(5),p=n(65),d=n(16),f=n(87),h=n(12),g=n(131),m=n(132),v=n(89),w=n(54).codeAt,b=n(137),y=n(23),x=n(37),S=n(56),_=n(20),k=_.set,U=_.getterFor("URL"),C=S.URLSearchParams,A=S.getState,j=a.URL,T=a.TypeError,O=a.parseInt,P=Math.floor,R=Math.pow,L=u("".charAt),I=u(/./.exec),M=u([].join),E=u(1..toString),$=u([].pop),q=u([].push),H=u("".replace),F=u([].shift),D=u("".split),B=u("".slice),z=u("".toLowerCase),N=u([].unshift),G="Invalid authority",W="Invalid scheme",K="Invalid host",V="Invalid port",Q=/[a-z]/i,Z=/[\d+-.a-z]/i,J=/\d/,Y=/^0x/i,X=/^[0-7]+$/,ee=/^\d+$/,te=/^[\da-f]+$/i,ne=/[\0\t\n\r #%/:<>?@[\\\]^|]/,re=/[\0\t\n\r #/:<>?@[\\\]^|]/,oe=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,se=/[\t\n\r]/g,ie=function(e,t){var n,r,o;if("["==L(t,0)){if("]"!=L(t,t.length-1))return K;if(n=le(B(t,1,-1)),!n)return K;e.host=n}else if(ve(e)){if(t=b(t),I(ne,t))return K;if(n=ae(t),null===n)return K;e.host=n}else{if(I(re,t))return K;for(n="",r=m(t),o=0;o<r.length;o++)n+=ge(r[o],pe);e.host=n}},ae=function(e){var t,n,r,o,s,i,a,l=D(e,".");if(l.length&&""==l[l.length-1]&&l.length--,t=l.length,t>4)return e;for(n=[],r=0;r<t;r++){if(o=l[r],""==o)return e;if(s=10,o.length>1&&"0"==L(o,0)&&(s=I(Y,o)?16:8,o=B(o,8==s?1:2)),""===o)i=0;else{if(!I(10==s?ee:8==s?X:te,o))return e;i=O(o,s)}q(n,i)}for(r=0;r<t;r++)if(i=n[r],r==t-1){if(i>=R(256,5-t))return null}else if(i>255)return null;for(a=$(n),r=0;r<n.length;r++)a+=n[r]*R(256,3-r);return a},le=function(e){var t,n,r,o,s,i,a,l=[0,0,0,0,0,0,0,0],c=0,u=null,p=0,d=function(){return L(e,p)};if(":"==d()){if(":"!=L(e,1))return;p+=2,c++,u=c}while(d()){if(8==c)return;if(":"!=d()){t=n=0;while(n<4&&I(te,d()))t=16*t+O(d(),16),p++,n++;if("."==d()){if(0==n)return;if(p-=n,c>6)return;r=0;while(d()){if(o=null,r>0){if(!("."==d()&&r<4))return;p++}if(!I(J,d()))return;while(I(J,d())){if(s=O(d(),10),null===o)o=s;else{if(0==o)return;o=10*o+s}if(o>255)return;p++}l[c]=256*l[c]+o,r++,2!=r&&4!=r||c++}if(4!=r)return;break}if(":"==d()){if(p++,!d())return}else if(d())return;l[c++]=t}else{if(null!==u)return;p++,c++,u=c}}if(null!==u){i=c-u,c=7;while(0!=c&&i>0)a=l[c],l[c--]=l[u+i-1],l[u+--i]=a}else if(8!=c)return;return l},ce=function(e){for(var t=null,n=1,r=null,o=0,s=0;s<8;s++)0!==e[s]?(o>n&&(t=r,n=o),r=null,o=0):(null===r&&(r=s),++o);return o>n&&(t=r,n=o),t},ue=function(e){var t,n,r,o;if("number"==typeof e){for(t=[],n=0;n<4;n++)N(t,e%256),e=P(e/256);return M(t,".")}if("object"==typeof e){for(t="",r=ce(e),n=0;n<8;n++)o&&0===e[n]||(o&&(o=!1),r===n?(t+=n?":":"::",o=!0):(t+=E(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},pe={},de=g({},pe,{" ":1,'"':1,"<":1,">":1,"`":1}),fe=g({},de,{"#":1,"?":1,"{":1,"}":1}),he=g({},fe,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ge=function(e,t){var n=w(e,0);return n>32&&n<127&&!h(t,e)?e:encodeURIComponent(e)},me={ftp:21,file:null,http:80,https:443,ws:80,wss:443},ve=function(e){return h(me,e.scheme)},we=function(e){return""!=e.username||""!=e.password},be=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},ye=function(e,t){var n;return 2==e.length&&I(Q,L(e,0))&&(":"==(n=L(e,1))||!t&&"|"==n)},xe=function(e){var t;return e.length>1&&ye(B(e,0,2))&&(2==e.length||"/"===(t=L(e,2))||"\\"===t||"?"===t||"#"===t)},Se=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&ye(t[0],!0)||t.length--},_e=function(e){return"."===e||"%2e"===z(e)},ke=function(e){return e=z(e),".."===e||"%2e."===e||".%2e"===e||"%2e%2e"===e},Ue={},Ce={},Ae={},je={},Te={},Oe={},Pe={},Re={},Le={},Ie={},Me={},Ee={},$e={},qe={},He={},Fe={},De={},Be={},ze={},Ne={},Ge={},We=function(e,t,n,o){var s,i,a,l,c=n||Ue,u=0,p="",d=!1,f=!1,g=!1;n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=H(t,oe,"")),t=H(t,se,""),s=m(t);while(u<=s.length){switch(i=s[u],c){case Ue:if(!i||!I(Q,i)){if(n)return W;c=Ae;continue}p+=z(i),c=Ce;break;case Ce:if(i&&(I(Z,i)||"+"==i||"-"==i||"."==i))p+=z(i);else{if(":"!=i){if(n)return W;p="",c=Ae,u=0;continue}if(n&&(ve(e)!=h(me,p)||"file"==p&&(we(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=p,n)return void(ve(e)&&me[e.scheme]==e.port&&(e.port=null));p="","file"==e.scheme?c=qe:ve(e)&&o&&o.scheme==e.scheme?c=je:ve(e)?c=Re:"/"==s[u+1]?(c=Te,u++):(e.cannotBeABaseURL=!0,q(e.path,""),c=ze)}break;case Ae:if(!o||o.cannotBeABaseURL&&"#"!=i)return W;if(o.cannotBeABaseURL&&"#"==i){e.scheme=o.scheme,e.path=v(o.path),e.query=o.query,e.fragment="",e.cannotBeABaseURL=!0,c=Ge;break}c="file"==o.scheme?qe:Oe;continue;case je:if("/"!=i||"/"!=s[u+1]){c=Oe;continue}c=Le,u++;break;case Te:if("/"==i){c=Ie;break}c=Be;continue;case Oe:if(e.scheme=o.scheme,i==r)e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=v(o.path),e.query=o.query;else if("/"==i||"\\"==i&&ve(e))c=Pe;else if("?"==i)e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=v(o.path),e.query="",c=Ne;else{if("#"!=i){e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=v(o.path),e.path.length--,c=Be;continue}e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=v(o.path),e.query=o.query,e.fragment="",c=Ge}break;case Pe:if(!ve(e)||"/"!=i&&"\\"!=i){if("/"!=i){e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,c=Be;continue}c=Ie}else c=Le;break;case Re:if(c=Le,"/"!=i||"/"!=L(p,u+1))continue;u++;break;case Le:if("/"!=i&&"\\"!=i){c=Ie;continue}break;case Ie:if("@"==i){d&&(p="%40"+p),d=!0,a=m(p);for(var w=0;w<a.length;w++){var b=a[w];if(":"!=b||g){var y=ge(b,he);g?e.password+=y:e.username+=y}else g=!0}p=""}else if(i==r||"/"==i||"?"==i||"#"==i||"\\"==i&&ve(e)){if(d&&""==p)return G;u-=m(p).length+1,p="",c=Me}else p+=i;break;case Me:case Ee:if(n&&"file"==e.scheme){c=Fe;continue}if(":"!=i||f){if(i==r||"/"==i||"?"==i||"#"==i||"\\"==i&&ve(e)){if(ve(e)&&""==p)return K;if(n&&""==p&&(we(e)||null!==e.port))return;if(l=ie(e,p),l)return l;if(p="",c=De,n)return;continue}"["==i?f=!0:"]"==i&&(f=!1),p+=i}else{if(""==p)return K;if(l=ie(e,p),l)return l;if(p="",c=$e,n==Ee)return}break;case $e:if(!I(J,i)){if(i==r||"/"==i||"?"==i||"#"==i||"\\"==i&&ve(e)||n){if(""!=p){var x=O(p,10);if(x>65535)return V;e.port=ve(e)&&x===me[e.scheme]?null:x,p=""}if(n)return;c=De;continue}return V}p+=i;break;case qe:if(e.scheme="file","/"==i||"\\"==i)c=He;else{if(!o||"file"!=o.scheme){c=Be;continue}if(i==r)e.host=o.host,e.path=v(o.path),e.query=o.query;else if("?"==i)e.host=o.host,e.path=v(o.path),e.query="",c=Ne;else{if("#"!=i){xe(M(v(s,u),""))||(e.host=o.host,e.path=v(o.path),Se(e)),c=Be;continue}e.host=o.host,e.path=v(o.path),e.query=o.query,e.fragment="",c=Ge}}break;case He:if("/"==i||"\\"==i){c=Fe;break}o&&"file"==o.scheme&&!xe(M(v(s,u),""))&&(ye(o.path[0],!0)?q(e.path,o.path[0]):e.host=o.host),c=Be;continue;case Fe:if(i==r||"/"==i||"\\"==i||"?"==i||"#"==i){if(!n&&ye(p))c=Be;else if(""==p){if(e.host="",n)return;c=De}else{if(l=ie(e,p),l)return l;if("localhost"==e.host&&(e.host=""),n)return;p="",c=De}continue}p+=i;break;case De:if(ve(e)){if(c=Be,"/"!=i&&"\\"!=i)continue}else if(n||"?"!=i)if(n||"#"!=i){if(i!=r&&(c=Be,"/"!=i))continue}else e.fragment="",c=Ge;else e.query="",c=Ne;break;case Be:if(i==r||"/"==i||"\\"==i&&ve(e)||!n&&("?"==i||"#"==i)){if(ke(p)?(Se(e),"/"==i||"\\"==i&&ve(e)||q(e.path,"")):_e(p)?"/"==i||"\\"==i&&ve(e)||q(e.path,""):("file"==e.scheme&&!e.path.length&&ye(p)&&(e.host&&(e.host=""),p=L(p,0)+":"),q(e.path,p)),p="","file"==e.scheme&&(i==r||"?"==i||"#"==i))while(e.path.length>1&&""===e.path[0])F(e.path);"?"==i?(e.query="",c=Ne):"#"==i&&(e.fragment="",c=Ge)}else p+=ge(i,fe);break;case ze:"?"==i?(e.query="",c=Ne):"#"==i?(e.fragment="",c=Ge):i!=r&&(e.path[0]+=ge(i,pe));break;case Ne:n||"#"!=i?i!=r&&("'"==i&&ve(e)?e.query+="%27":e.query+="#"==i?"%23":ge(i,pe)):(e.fragment="",c=Ge);break;case Ge:i!=r&&(e.fragment+=ge(i,de));break}u++}},Ke=function(e){var t,n,r=f(this,Ve),o=arguments.length>1?arguments[1]:void 0,i=y(e),a=k(r,{type:"URL"});if(void 0!==o)try{t=U(o)}catch(p){if(n=We(t={},y(o)),n)throw T(n)}if(n=We(a,i,null,t),n)throw T(n);var l=a.searchParams=new C,u=A(l);u.updateSearchParams(a.query),u.updateURL=function(){a.query=y(l)||null},s||(r.href=c(Qe,r),r.origin=c(Ze,r),r.protocol=c(Je,r),r.username=c(Ye,r),r.password=c(Xe,r),r.host=c(et,r),r.hostname=c(tt,r),r.port=c(nt,r),r.pathname=c(rt,r),r.search=c(ot,r),r.searchParams=c(st,r),r.hash=c(it,r))},Ve=Ke.prototype,Qe=function(){var e=U(this),t=e.scheme,n=e.username,r=e.password,o=e.host,s=e.port,i=e.path,a=e.query,l=e.fragment,c=t+":";return null!==o?(c+="//",we(e)&&(c+=n+(r?":"+r:"")+"@"),c+=ue(o),null!==s&&(c+=":"+s)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?i[0]:i.length?"/"+M(i,"/"):"",null!==a&&(c+="?"+a),null!==l&&(c+="#"+l),c},Ze=function(){var e=U(this),t=e.scheme,n=e.port;if("blob"==t)try{return new Ke(t.path[0]).origin}catch(r){return"null"}return"file"!=t&&ve(e)?t+"://"+ue(e.host)+(null!==n?":"+n:""):"null"},Je=function(){return U(this).scheme+":"},Ye=function(){return U(this).username},Xe=function(){return U(this).password},et=function(){var e=U(this),t=e.host,n=e.port;return null===t?"":null===n?ue(t):ue(t)+":"+n},tt=function(){var e=U(this).host;return null===e?"":ue(e)},nt=function(){var e=U(this).port;return null===e?"":y(e)},rt=function(){var e=U(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+M(t,"/"):""},ot=function(){var e=U(this).query;return e?"?"+e:""},st=function(){return U(this).searchParams},it=function(){var e=U(this).fragment;return e?"#"+e:""},at=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(s&&p(Ve,{href:at(Qe,(function(e){var t=U(this),n=y(e),r=We(t,n);if(r)throw T(r);A(t.searchParams).updateSearchParams(t.query)})),origin:at(Ze),protocol:at(Je,(function(e){var t=U(this);We(t,y(e)+":",Ue)})),username:at(Ye,(function(e){var t=U(this),n=m(y(e));if(!be(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=ge(n[r],he)}})),password:at(Xe,(function(e){var t=U(this),n=m(y(e));if(!be(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=ge(n[r],he)}})),host:at(et,(function(e){var t=U(this);t.cannotBeABaseURL||We(t,y(e),Me)})),hostname:at(tt,(function(e){var t=U(this);t.cannotBeABaseURL||We(t,y(e),Ee)})),port:at(nt,(function(e){var t=U(this);be(t)||(e=y(e),""==e?t.port=null:We(t,e,$e))})),pathname:at(rt,(function(e){var t=U(this);t.cannotBeABaseURL||(t.path=[],We(t,y(e),De))})),search:at(ot,(function(e){var t=U(this);e=y(e),""==e?t.query=null:("?"==L(e,0)&&(e=B(e,1)),t.query="",We(t,e,Ne)),A(t.searchParams).updateSearchParams(t.query)})),searchParams:at(st),hash:at(it,(function(e){var t=U(this);e=y(e),""!=e?("#"==L(e,0)&&(e=B(e,1)),t.fragment="",We(t,e,Ge)):t.fragment=null}))}),d(Ve,"toJSON",(function(){return c(Qe,this)}),{enumerable:!0}),d(Ve,"toString",(function(){return c(Qe,this)}),{enumerable:!0}),j){var lt=j.createObjectURL,ct=j.revokeObjectURL;lt&&d(Ke,"createObjectURL",l(lt,j)),ct&&d(Ke,"revokeObjectURL",l(ct,j))}x(Ke,"URL"),o({global:!0,forced:!i,sham:!s},{URL:Ke})},function(e,t,n){var r=n(7),o=n(8),s=n(34),i=o("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t["delete"]("b"),n+=r+e})),s&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[i]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},function(e,t,n){var r=n(2),o=n(68),s=r.TypeError;e.exports=function(e,t){if(o(t,e))return e;throw s("Incorrect invocation")}},function(e,t,n){var r=n(2),o=n(10),s=n(47),i=n(11),a=n(69),l=n(55),c=r.TypeError;e.exports=function(e,t){var n=arguments.length<2?l(e):t;if(s(n))return i(o(n,e));throw c(a(e)+" is not iterable")}},function(e,t,n){var r=n(5);e.exports=r([].slice)},function(e){e.exports=JSON.parse('{"about":"About","services":"Services","hide":"Hide","hide_others":"Hide Others","show_all":"Show All","quit":"Quit","file":"File","open_file":"Open File ...","edit":"Edit","undo":"Undo","redo":"Redo","cut":"Cut","copy":"Copy","paste":"Paste","select_all":"Select All","view":"View","reload":"Reload","toggle_full_screen":"Toggle Full Screen","toggle_developer_tools":"Toogle Developer Tools","window":"Window","minimize":"Minimize","close":"Close","bring_all_to_front":"Bring All to Front","help":"Help","github_repo":"Github Repo","issues":"Issues","learn_more":"Learn More","official_site":"Official Site","check_for_update":"Check For Update","learn_spelling":"Learn Spelling","lookup_selection":"Look Up \\"{selection}\\"","search_with_google":"Search with Google","save_image":"Save Image","save_image_as":"Save Image As ...","copy_link":"Copy Link","save_link_as":"Save Link As ...","copy_image":"Copy Image","copy_image_as":"Copy Image As ...","copy_image_address":"Copy Image Address","download_complete":"Download complete","download_complete_message":"{0} is downloaded","is_running":"{0} is running","open":"Open {0}"}')},function(e){e.exports=JSON.parse('{"about":"关于","services":"服务","hide":"隐藏","hide_others":"隐藏其他","show_all":"显示全部","quit":"退出","file":"文件","open_file":"打开文件 ...","edit":"编辑","undo":"撤销","redo":"重做","cut":"剪切","copy":"复制","paste":"粘贴","select_all":"全选","view":"显示","reload":"重载","toggle_full_screen":"切换全屏","toggle_developer_tools":"切换开发者工具","window":"窗口","minimize":"最小化","close":"关闭","bring_all_to_front":"前置全部窗口","help":"帮助","github_repo":"Github 仓库","issues":"Issues","learn_more":"更多","official_site":"官方网站","check_for_update":"检查更新","learn_spelling":"学习拼写","lookup_selection":"查询“{selection}”","search_with_google":"用 Google 搜素","save_image":"保存图片","save_image_as":"将图片另存为 ...","copy_link":"复制链接","save_link_as":"将链接复制为 ...","copy_image":"复制图片","copy_image_as":"将图片复制为 ...","copy_image_address":"复制图片地址","download_complete":"下载完成","download_complete_message":"{0} 已下载完成","is_running":"{0} 正在运行","open":"打开 {0}"}')},function(e){e.exports=JSON.parse('{"about":"關於","services":"服務","hide":"隱藏","hide_others":"隱藏其他","show_all":"顯示全部","quit":"退出","file":"文檔","open_file":"打開文檔 ...","edit":"編輯","undo":"撤銷","redo":"重做","cut":"剪切","copy":"複製","paste":"粘貼","select_all":"全選","view":"顯示","reload":"重載","toggle_full_screen":"切換全螢幕","toggle_developer_tools":"切換開發者工具","window":"窗口","minimize":"最小化","close":"關閉","bring_all_to_front":"前置全部窗口","help":"幫助","github_repo":"Github 倉庫","issues":"Issues","learn_more":"更多","official_site":"官方網站","check_for_update":"檢索更新","learn_spelling":"學習拼寫","lookup_selection":"查詢“{selection}”","search_with_google":"用 Google 搜索","save_image":"保存圖片","save_image_as":"將圖片另存為 ...","copy_link":"複製連結","save_link_as":"將連結複製為 ...","copy_image":"複製圖片","copy_image_as":"將圖片複製為 ...","copy_image_address":"複製圖片地址","download_complete":"下載完成","download_complete_message":"{0} 已下載完成","is_running":"{0} 正在運行","open":"打開 {0}"}')},function(e,t){e.exports=require("electron-context-menu")},function(e,t){e.exports=require("electron-default-menu")},function(e,t){e.exports=require("events")},function(e,t,n){e.exports=n(140)},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){var r=n(42),o=r("span").classList,s=o&&o.constructor&&o.constructor.prototype;e.exports=s===Object.prototype?void 0:s},function(e,t,n){var r,o,s=n(2),i=n(100),a=s.process,l=s.Deno,c=a&&a.versions||l&&l.version,u=c&&c.v8;u&&(r=u.split("."),o=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&i&&(r=i.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=i.match(/Chrome\/(\d+)/),r&&(o=+r[1]))),e.exports=o},function(e,t,n){var r=n(18);e.exports=r("navigator","userAgent")||""},function(e,t,n){var r=n(2),o=n(10),s=n(15),i=n(67),a=n(35),l=n(102),c=n(8),u=r.TypeError,p=c("toPrimitive");e.exports=function(e,t){if(!s(e)||i(e))return e;var n,r=a(e,p);if(r){if(void 0===t&&(t="default"),n=o(r,e,t),!s(n)||i(n))return n;throw u("Can't convert object to primitive value")}return void 0===t&&(t="number"),l(e,t)}},function(e,t,n){var r=n(2),o=n(10),s=n(6),i=n(15),a=r.TypeError;e.exports=function(e,t){var n,r;if("string"===t&&s(n=e.toString)&&!i(r=o(n,e)))return r;if(s(n=e.valueOf)&&!i(r=o(n,e)))return r;if("string"!==t&&s(n=e.toString)&&!i(r=o(n,e)))return r;throw a("Can't convert object to primitive value")}},function(e,t,n){var r=n(25),o=n(104),s=n(36),i=function(e){return function(t,n,i){var a,l=r(t),c=s(l),u=o(i,c);if(e&&n!=n){while(c>u)if(a=l[u++],a!=a)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:i(!0),indexOf:i(!1)}},function(e,t,n){var r=n(27),o=Math.max,s=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):s(n,t)}},function(e,t,n){var r=n(18);e.exports=r("document","documentElement")},function(e,t,n){var r=n(2),o=n(6),s=n(51),i=r.WeakMap;e.exports=o(i)&&/native code/.test(s(i))},function(e,t,n){var r=n(12),o=n(108),s=n(74),i=n(19);e.exports=function(e,t){for(var n=o(t),a=i.f,l=s.f,c=0;c<n.length;c++){var u=n[c];r(e,u)||a(e,u,l(t,u))}}},function(e,t,n){var r=n(18),o=n(5),s=n(109),i=n(77),a=n(11),l=o([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=s.f(a(e)),n=i.f;return n?l(t,n(e)):t}},function(e,t,n){var r=n(71),o=n(49),s=o.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,s)}},function(e,t,n){var r=n(7),o=n(6),s=/#|\.prototype\./,i=function(e,t){var n=l[a(e)];return n==u||n!=c&&(o(t)?r(t):!!t)},a=i.normalize=function(e){return String(e).replace(s,".").toLowerCase()},l=i.data={},c=i.NATIVE="N",u=i.POLYFILL="P";e.exports=i},function(e,t,n){var r=n(7);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,n){var r=n(5),o=n(11),s=n(113);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),e(n,[]),t=n instanceof Array}catch(i){}return function(n,r){return o(n),s(r),t?e(n,r):n.__proto__=r,n}}():void 0)},function(e,t,n){var r=n(2),o=n(6),s=r.String,i=r.TypeError;e.exports=function(e){if("object"==typeof e||o(e))return e;throw i("Can't set "+s(e)+" as a prototype")}},function(e,t){e.exports=require("electron-squirrel-startup")},function(e,t){e.exports=require("child_process")},function(e,t){var n=Function.prototype,r=n.apply,o=n.bind,s=n.call;e.exports="object"==typeof Reflect&&Reflect.apply||(o?s.bind(r):function(){return s.apply(r,arguments)})},function(e,t,n){"use strict";n(118);var r=n(5),o=n(16),s=n(53),i=n(7),a=n(8),l=n(21),c=a("species"),u=RegExp.prototype;e.exports=function(e,t,n,p){var d=a(e),f=!i((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),h=f&&!i((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[c]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return t=!0,null},n[d](""),!t}));if(!f||!h||n){var g=r(/./[d]),m=t(d,""[e],(function(e,t,n,o,i){var a=r(e),l=t.exec;return l===s||l===u.exec?f&&!i?{done:!0,value:g(t,n,o)}:{done:!0,value:a(n,t,o)}:{done:!1}}));o(String.prototype,e,m[0]),o(u,d,m[1])}p&&l(u[d],"sham",!0)}},function(e,t,n){"use strict";var r=n(30),o=n(53);r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},function(e,t,n){var r=n(8),o=r("toStringTag"),s={};s[o]="z",e.exports="[object z]"===String(s)},function(e,t,n){"use strict";var r=n(11);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){var r=n(7),o=n(2),s=o.RegExp;t.UNSUPPORTED_Y=r((function(){var e=s("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=s("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},function(e,t,n){var r=n(7),o=n(2),s=o.RegExp;e.exports=r((function(){var e=s(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},function(e,t,n){var r=n(7),o=n(2),s=o.RegExp;e.exports=r((function(){var e=s("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},function(e,t,n){"use strict";var r=n(54).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){var r=n(5),o=n(17),s=Math.floor,i=r("".charAt),a=r("".replace),l=r("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,p,d){var f=n+e.length,h=r.length,g=u;return void 0!==p&&(p=o(p),g=c),a(d,g,(function(o,a){var c;switch(i(a,0)){case"$":return"$";case"&":return e;case"`":return l(t,0,n);case"'":return l(t,f);case"<":c=p[l(a,1,-1)];break;default:var u=+a;if(0===u)return o;if(u>h){var d=s(u/10);return 0===d?o:d<=h?void 0===r[d-1]?i(a,1):r[d-1]+i(a,1):o}c=r[u-1]}return void 0===c?"":c}))}},function(e,t,n){var r=n(2),o=n(10),s=n(11),i=n(6),a=n(32),l=n(53),c=r.TypeError;e.exports=function(e,t){var n=e.exec;if(i(n)){var r=o(n,e,t);return null!==r&&s(r),r}if("RegExp"===a(e))return o(l,e,t);throw c("RegExp#exec called on incompatible receiver")}},function(e,t,n){"use strict";var r=n(2),o=n(82),s=n(36),i=n(39),a=r.TypeError,l=function(e,t,n,r,c,u,p,d){var f,h,g=c,m=0,v=!!p&&i(p,d);while(m<r){if(m in n){if(f=v?v(n[m],m,t):n[m],u>0&&o(f))h=s(f),g=l(e,t,f,h,g,u-1)-1;else{if(g>=9007199254740991)throw a("Exceed the acceptable array length");e[g]=f}g++}m++}return g};e.exports=l},function(e,t,n){var r=n(129);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},function(e,t,n){var r=n(2),o=n(82),s=n(83),i=n(15),a=n(8),l=a("species"),c=r.Array;e.exports=function(e){var t;return o(e)&&(t=e.constructor,s(t)&&(t===c||o(t.prototype))?t=void 0:i(t)&&(t=t[l],null===t&&(t=void 0))),void 0===t?c:t}},function(e,t,n){"use strict";var r=n(54).charAt,o=n(23),s=n(20),i=n(73),a="String Iterator",l=s.set,c=s.getterFor(a);i(String,"String",(function(e){l(this,{type:a,string:o(e),index:0})}),(function(){var e,t=c(this),n=t.string,o=t.index;return o>=n.length?{value:void 0,done:!0}:(e=r(n,o),t.index+=e.length,{value:e,done:!1})}))},function(e,t,n){"use strict";var r=n(13),o=n(5),s=n(10),i=n(7),a=n(70),l=n(77),c=n(75),u=n(17),p=n(60),d=Object.assign,f=Object.defineProperty,h=o([].concat);e.exports=!d||i((function(){if(r&&1!==d({b:1},d(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),o="abcdefghijklmnopqrst";return e[n]=7,o.split("").forEach((function(e){t[e]=e})),7!=d({},e)[n]||a(d({},t)).join("")!=o}))?function(e,t){var n=u(e),o=arguments.length,i=1,d=l.f,f=c.f;while(o>i){var g,m=p(arguments[i++]),v=d?h(a(m),d(m)):a(m),w=v.length,b=0;while(w>b)g=v[b++],r&&!s(f,m,g)||(n[g]=m[g])}return n}:d},function(e,t,n){"use strict";var r=n(2),o=n(39),s=n(10),i=n(17),a=n(133),l=n(135),c=n(83),u=n(36),p=n(136),d=n(88),f=n(55),h=r.Array;e.exports=function(e){var t=i(e),n=c(this),r=arguments.length,g=r>1?arguments[1]:void 0,m=void 0!==g;m&&(g=o(g,r>2?arguments[2]:void 0));var v,w,b,y,x,S,_=f(t),k=0;if(!_||this==h&&l(_))for(v=u(t),w=n?new this(v):h(v);v>k;k++)S=m?g(t[k],k):t[k],p(w,k,S);else for(y=d(t,_),x=y.next,w=n?new this:[];!(b=s(x,y)).done;k++)S=m?a(y,g,[b.value,k],!0):b.value,p(w,k,S);return w.length=k,w}},function(e,t,n){var r=n(11),o=n(134);e.exports=function(e,t,n,s){try{return s?t(r(n)[0],n[1]):t(n)}catch(i){o(e,"throw",i)}}},function(e,t,n){var r=n(10),o=n(11),s=n(35);e.exports=function(e,t,n){var i,a;o(e);try{if(i=s(e,"return"),!i){if("throw"===t)throw n;return n}i=r(i,e)}catch(l){a=!0,i=l}if("throw"===t)throw n;if(a)throw i;return o(i),n}},function(e,t,n){var r=n(8),o=n(28),s=r("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||i[s]===e)}},function(e,t,n){"use strict";var r=n(46),o=n(19),s=n(29);e.exports=function(e,t,n){var i=r(t);i in e?o.f(e,i,s(0,n)):e[i]=n}},function(e,t,n){"use strict";var r=n(2),o=n(5),s=2147483647,i=36,a=1,l=26,c=38,u=700,p=72,d=128,f="-",h=/[^\0-\u007E]/,g=/[.\u3002\uFF0E\uFF61]/g,m="Overflow: input needs wider integers to process",v=i-a,w=r.RangeError,b=o(g.exec),y=Math.floor,x=String.fromCharCode,S=o("".charCodeAt),_=o([].join),k=o([].push),U=o("".replace),C=o("".split),A=o("".toLowerCase),j=function(e){var t=[],n=0,r=e.length;while(n<r){var o=S(e,n++);if(o>=55296&&o<=56319&&n<r){var s=S(e,n++);56320==(64512&s)?k(t,((1023&o)<<10)+(1023&s)+65536):(k(t,o),n--)}else k(t,o)}return t},T=function(e){return e+22+75*(e<26)},O=function(e,t,n){var r=0;for(e=n?y(e/u):e>>1,e+=y(e/t);e>v*l>>1;r+=i)e=y(e/v);return y(r+(v+1)*e/(e+c))},P=function(e){var t=[];e=j(e);var n,r,o=e.length,c=d,u=0,h=p;for(n=0;n<e.length;n++)r=e[n],r<128&&k(t,x(r));var g=t.length,v=g;g&&k(t,f);while(v<o){var b=s;for(n=0;n<e.length;n++)r=e[n],r>=c&&r<b&&(b=r);var S=v+1;if(b-c>y((s-u)/S))throw w(m);for(u+=(b-c)*S,c=b,n=0;n<e.length;n++){if(r=e[n],r<c&&++u>s)throw w(m);if(r==c){for(var U=u,C=i;;C+=i){var A=C<=h?a:C>=h+l?l:C-h;if(U<A)break;var P=U-A,R=i-A;k(t,x(T(A+P%R))),U=y(P/R)}k(t,x(T(U))),h=O(u,S,v==g),u=0,++v}}++u,++c}return _(t,"")};e.exports=function(e){var t,n,r=[],o=C(U(A(e),g,"."),".");for(t=0;t<o.length;t++)n=o[t],k(r,b(h,n)?"xn--"+P(n):n);return _(r,".")}},function(e,t,n){var r=n(16);e.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},function(e,t,n){var r=n(89),o=Math.floor,s=function(e,t){var n=e.length,l=o(n/2);return n<8?i(e,t):a(e,s(r(e,0,l),t),s(r(e,l),t),t)},i=function(e,t){var n,r,o=e.length,s=1;while(s<o){r=s,n=e[s];while(r&&t(e[r-1],n)>0)e[r]=e[--r];r!==s++&&(e[r]=n)}return e},a=function(e,t,n,r){var o=t.length,s=n.length,i=0,a=0;while(i<o||a<s)e[i+a]=i<o&&a<s?r(t[i],n[a])<=0?t[i++]:n[a++]:i<o?t[i++]:n[a++];return e};e.exports=s},function(e,t,n){"use strict";n.r(t),n.d(t,"checkForUpdate",(function(){return kt}));n(9);var r=n(0),o=(n(52),n(14)),s=n.n(o),i=n(4),a=n.n(i),l=n(3),c=n.n(l),u=n(31),p=n.n(u),d=n(24),f=n.n(d),h=n(40),g=n.n(h);const{platform:m,arch:v}=process,w="win32"===m?".msi":"darwin"===m?".dmg":".deb";class b{constructor({version:e,channel:t="stable",pre:n=!1}){this.apiUrl="https://api.github.com/repos/tanshuai/alphabiz/releases";const r={Accept:"application/vnd.github.v3+json"};process.env.GITHUB_PAT&&(r.Authorization=`token ${process.env.GITHUB_PAT}`),this.headers=r,this.version=e,this.channel=t,this.pre=n,this.downloadProgress=new Map}async getReleases(){try{const{data:e}=await f.a.get(this.apiUrl,{headers:this.headers,responseType:"json"});return e}catch(e){return console.error("Cannot get releases. Error:",e.message||e),[]}}async downloadAsset(e,t,n,r={}){const o=f.a.CancelToken.source();return f.a.get(e,Object.assign({},r,{responseType:"stream",cancelToken:o.token})).then((({data:e})=>new Promise(((r,s)=>{const a=Object(i["createWriteStream"])(t);e.pipe(a);let l=setTimeout((()=>{o.cancel("Timeout"),s("Timeout")}),5e3);e.on("data",(e=>{clearTimeout(l),l=setTimeout((()=>{o.cancel("Timeout"),s("Timeout")}),3e3);const t=this.downloadProgress.get(n);t&&(t.downloaded+=e.length,this.downloadProgress.set(n,t))})),a.on("finish",(()=>{this.downloadProgress.delete(n),r()})),a.on("error",s)}))))}async downloadUpdate(e){const t=Object(l["resolve"])(p.a.tmpdir(),"alphabiz-updates");Object(i["mkdirSync"])(t,{recursive:!0});const n=[];for(const o of e){const{url:e,name:s}=o,i=Object(l["resolve"])(t,s);this.downloadProgress.set(s,{length:o.size,downloaded:0});try{await this.downloadAsset(e,i,s,{headers:Object.assign({},this.headers,{Accept:"application/octet-stream"})}),n.push(i)}catch(r){if(console.log(`Cannot download ${s} from ${e}`,r.message||r),"Timeout"===r)throw"update_timeout"}}return n}async checkForUpdate(){const e=await this.getReleases(),t=e.find((e=>{if(e.draft)return!1;if(e.prerelease&&!this.pre)return!1;if(!g.a.valid(e.tag_name))return!1;const t=g.a.prerelease(e.tag_name);if(t&&1===t.length){const e=t.pop();t.push(...e.split("-"))}if("stable"===this.channel)return!t;if(t&&t[0]===this.channel){if(e.assets)return e.assets.some((e=>e.name.endsWith(w)));console.log("no available asset")}return!1}));if(!t||!t.assets||!Array.isArray(t.assets))return{shouldUpdate:!1,reason:"no_available_release"};if(!g.a.gt(t.tag_name,this.version))return{shouldUpdate:!1,reason:"already_latest"};const n=t.assets.filter((e=>e.name.endsWith(w)));return n.length?{shouldUpdate:!0,version:t.tag_name,detail:t.body,assets:n}:{shouldUpdate:!1,reason:"no_available_installer"}}}function y(){if(n(114))return r["app"].quit();if(e())return;function e(){if(1===process.argv.length)return!1;const e=n(115),t=n(3),o=t.resolve(process.execPath,".."),s=t.resolve(o,".."),i=t.resolve(t.join(s,"Update.exe")),a=t.basename(process.execPath),l=function(t,n){let r;try{r=e.spawn(t,n,{detached:!0})}catch(o){}return r},c=function(e){return l(i,e)},u=process.argv[1];switch(u){case"--squirrel-install":case"--squirrel-updated":return c(["--createShortcut",a]),setTimeout(r["app"].quit,1e3),!0;case"--squirrel-uninstall":return c(["--removeShortcut",a]),setTimeout(r["app"].quit,1e3),!0;case"--squirrel-obsolete":return r["app"].quit(),!0;case"--squirrel-firstrun":return!0}}const t="https://alphabiz-desktop.vercel.app",o=`${t}/update/${process.platform}/${n(52).version}`;try{r["autoUpdater"].setFeedURL({url:o}),r["autoUpdater"].checkForUpdates(),r["autoUpdater"].on("error",(e=>{r["dialog"].showMessageBox({title:"Update error",message:o+"\n"+e})})),r["autoUpdater"].on("update-available",(()=>{r["dialog"].showMessageBox({title:"Update available",message:"Update available"})})),r["autoUpdater"].on("update-not-available",(e=>{r["dialog"].showMessageBox({title:"Update not available",message:"Alphabiz is already latest"})})),r["autoUpdater"].on("checking-for-update",(e=>{r["dialog"].showMessageBox({title:"Update check",message:"Checking for update..."})}))}catch(s){console.log("skip")}}s()(b,"isBusy",!1);const x=n(57),S=n(3),{existsSync:_,unlinkSync:k}=n(4),U=e=>{try{if(Array.isArray(e))return console.log("array",e),!0;if(e[0])return console.log("arr",e),!0}catch(t){return console.error(t),!1}return!1},C=(e,t,{removeSpeeds:n,removeSessionData:r}={})=>{if(!e)return t;if(!t)return e;if(U(t))return console.log("cur is array",t),e;if(e.infoHash!==t.infoHash)return t;const o={};for(const u in t){var s;if(["downloadSpeed","uploadSpeed"].includes(u))n||(o[u]=t[u]);else if(!r||!["peersNum","hasMetadata","ready","timeRemaining","connections"].includes(u))if(u in e)if("progress"!==u&&"downloaded"!==u)if("object"===typeof t[u]&&"connections"!==u)if(o[u]=[],Array.isArray(t[u]))for(let n=0;n<Math.max(null===(i=t[u])||void 0===i?void 0:i.length,null===e||void 0===e||null===(a=e[u])||void 0===a?void 0:a.length);n++){var i,a,l,c;null!==(l=t[u])&&void 0!==l&&l[n]?o[u].push(t[u][n]):null!==e&&void 0!==e&&null!==(c=e[u])&&void 0!==c&&c[n]&&o[u].push(e[u][n])}else o[u]=C(e[u],t[u],{removeSpeeds:n,removeSessionData:r});else o[u]=null!==(s=t[u])&&void 0!==s?s:e[u];else t.hasMetadata&&t.ready?o[u]=t[u]:o[u]=e[u];else o[u]=t[u]}for(const u in e)u in t||(o[u]=e[u]);return o};class A extends x{delTorrent(e){let t=this.get("torrents");if(e&&t)return t=t.filter((t=>t.infoHash!==e&&t.token!==e&&t.origin!==e)),void this.set("torrents",t.filter((e=>!U(e))));this.set("torrents",[])}updateTorrent(e){if(e&&e.isAutoUpload)return;let t=[];this.get("torrents")&&(t=this.get("torrents"));let n=!0;t=t.map((t=>t.infoHash===e.infoHash?(n=!1,C(t,e,{removeSpeeds:!0,removeSessionData:!0})):t)).filter((e=>e.infoHash)),n?this.setTorrent(e):this.set("torrents",t.filter((e=>!U(e))))}updateTorrents(e){if(!e.length)return;const t=this.get("torrents");for(const n of e){let e=!0;for(const r in t){const o=t[r];o.infoHash===n.infoHash&&(e=!1,t[r]=C(o,n,{removeSpeeds:!0,removeSessionData:!0}))}e&&t.push(n)}return this.set("torrents",t.filter((e=>!e.isAutoUpload&&!U(e))))}getTorrent(e){return e?this.get("torrents").find((t=>t.infoHash===e)):this.get("torrents")||[]}setTorrent(e){let t=[];this.get("torrents")&&(t=this.get("torrents")),t.push(e),this.set("torrents",t.map((e=>({...e,downloadSpeed:0,uploadSpeed:0}))).filter((e=>!U(e))))}setConfig(e){this.set("settings",e)}getConfig(){return this.get("settings")}setOrders(e){return this.set("orders",e)}getOrders(){return this.get("orders")}clear({destroyStore:e=!1}={}){if(e){const e=super.get("torrents");e.forEach((e=>{e.files.forEach((({path:e})=>{_(e)&&k(e)}))}))}super.clear()}}var j=new A({cwd:S.join(r["app"].getPath("userData"),"config"),defaults:{torrents:[],orders:[]}}),T=(n(22),n(57)),O=n.n(T);async function P(e){const{data:t}=await f.a.get(e);return t.split("\n").filter((e=>e.length))}async function R(e){const t={success:[],failure:[],data:[],time:(new Date).toLocaleString()};for(const r of e)try{const e=await P(r.value);t.data.push(...e),t.success.push(r.label)}catch(n){t.failure.push(r.label)}return t}var L=n(1),I=n.n(L);const M="win32"===process.platform,E=["mp3","wav","aac","flac","m4a","wma"],$=["mp4","mkv","flv","avi","mov","wmv","rmvb","flv","webm"],q=[process.execPath,"--"];const H=q.map((e=>`"${e}"`)).join(" "),F="Alphabiz",D=async e=>new Promise((t=>{const n=new I.a({hive:I.a.HKCU,key:`\\Software\\Classes\\${e}`});n.get("",((n,r)=>{if(n)return t(!1);const o=new I.a({hive:I.a.HKCU,key:`\\Software\\Classes\\${e}\\shell\\open\\command`});o.get("",((e,n)=>{if(e||!n)return t(!1);t(n.value===`${H} "%1"`)}))}))})),B=async e=>new Promise((t=>{if(!M)return t(!0);const n=new I.a({hive:I.a.HKCU,key:`\\Software\\Classes\\${F+e}`});n.get("",((n,r)=>{if(n)return t(!1);const o=new I.a({hive:I.a.HKCU,key:`\\Software\\Classes\\${e}`});o.get("",((n,r)=>{if(n||!r||!r.value)return t(!1);if(r.value!==F+e)return t(!1);const o=new I.a({hive:I.a.HKCU,key:`\\Software\\Classes\\${e}\\OpenWithProgids`});o.valueExists(F+e,((e,n)=>{if(e)return t(!1);t(n)}))}))}))})),z=async()=>Promise.all($.map((e=>B("."+e)))).then((e=>e.every((e=>e)))),N=async()=>Promise.all(E.map((e=>B("."+e)))).then((e=>e.every((e=>e)))),G=({magnet:e=!0}={})=>{e?r["app"].setAsDefaultProtocolClient("magnet"):r["app"].removeAsDefaultProtocolClient("magnet")},W=(__dirname,Object(l["resolve"])(process.resourcesPath,"favicon.ico")),K=(e,t)=>{const n=new I.a({hive:I.a.HKCU,key:"\\Software\\Classes\\"+e}),r=e=>e&&console.log(e);n.set("",I.a.REG_SZ,t,(t=>{t&&console.log(t),n.set("URL Protocol",I.a.REG_SZ,"",r);const o=new I.a({hive:I.a.HKCU,key:`\\Software\\Classes\\${e}\\DefaultIcon`});o.set("",I.a.REG_SZ,W,r);const s=new I.a({hive:I.a.HKCU,key:`\\Software\\Classes\\${e}\\shell\\open\\command`});s.set("",I.a.REG_SZ,`${H} "%1"`,r)}))},V=(e,t=H)=>{const n=new I.a({hive:I.a.HKCU,key:`\\Software\\Classes\\${e}\\shell\\open\\command`});n.get("",((n,r)=>{if(!n&&r.value.includes(t)){const t=new I.a({hive:I.a.HKCU,key:`\\Software\\Classes\\${e}`});t.destroy((()=>{}))}}))},Q=async(e,t)=>new Promise((n=>{const r=e=>e&&console.log(e),o=new I.a({hive:I.a.HKCU,key:`\\Software\\Classes\\${e}`});o.set("",I.a.REG_SZ,F+e,(o=>{const s=new I.a({hive:I.a.HKCU,key:`\\Software\\Classes\\${e}\\OpenWithProgids`});s.set(F+e,I.a.REG_SZ,"",(o=>{r(o);const s=new I.a({hive:I.a.HKCU,key:`\\Software\\Classes\\${F+e}`});s.set("",I.a.REG_SZ,t,(t=>{r(t);const o=new I.a({hive:I.a.HKCU,key:`\\Software\\Classes\\${F+e}\\DefaultIcon`});o.set("",I.a.REG_SZ,W,r);const s=new I.a({hive:I.a.HKCU,key:`\\Software\\Classes\\${F+e}\\shell\\open\\command`});s.set("",I.a.REG_SZ,`${H} "%1"`,r),n(!0)}))}))}))})),Z=async e=>new Promise((t=>{const n=new I.a({hive:I.a.HKCU,key:`\\Software\\Classes\\${e}\\OpenWithProgids`});n.remove(F+e,(n=>{if(n)return t(!1);const r=new I.a({hive:I.a.HKCU,key:`\\Software\\Classes\\${e}`});r.get("",((n,o)=>{if(n)return t(!1);o.value===F+e&&r.remove("",(e=>t(!e)))}));const o=new I.a({hive:I.a.HKCU,key:`\\Software\\Classes\\${F+e}`});o.destroy((e=>{e&&console.error(e)}))}))})),J=async e=>{for(const t of $){const n="."+t,r=await B(n);e!==r&&(e?await Q(n,`${t.toUpperCase()} File (${F})`):await Z(n))}},Y=async e=>{for(const t of E){const n="."+t,r=await B(n);e!==r&&(e?await Q(n,`${t.toUpperCase()} File (${F})`):await Z(n))}},X=async({magnet:e,torrent:t,video:n,audio:r}={})=>{e!==await D("magnet")&&(!0===e?await K("magnet","URL:BitTorrent Magnet URL"):!1===e&&await V("magnet","URL:BitTorrent Magnet URL")),t!==await B(".torrent")&&(!0===t?await Q(".torrent","BitTorrent Document"):!1===t&&await Z(".torrent")),void 0!==n&&await J(n),void 0!==r&&await Y(r)};var ee=e=>{switch(process.platform){case"darwin":return console.log("Setup association for darwin",e),G(e);case"win32":return console.log("Setup association for win32",e),X(e)}},te=n(90),ne=n(91),re=n(92);const oe={"en-US":te,"zh-CN":ne,"zh-TW":re};class se{constructor(e="en-US"){this.locale=e,this._messages={},this.setLocale(e)}setLocale(e){e in oe?(this.locale=e,this._messages={...oe[e]}):(this.locale="en-US",this._messages={...oe[e]})}rawText(e){return this._messages[e]||oe["en-US"][e]||e}$t(e,t={}){return this.rawText(e).replace(/{(.+)?}/g,((e,n)=>t[n]?t[n]:`{${n}}`))}}var ie=n(93),ae=n.n(ie),le=n(94),ce=n.n(le);const ue=new se("en-US");let pe=null;const de=async()=>{await r["app"].whenReady(),pe&&pe.destroy(),console.log("set Tray");__dirname;const e=c.a.resolve(process.resourcesPath,"alphabiz-icon-1024.png");pe=new r["Tray"](r["nativeImage"].createFromPath(e).resize({width:16,height:16}));const t=r["Menu"].buildFromTemplate([{label:ue.$t("open",["Alphabiz"]),click(){global.win.show()}},{label:ue.$t("quit"),click(){r["app"].isQuitting=!0,r["app"].quit()}}]);pe.setContextMenu(t),pe.setTitle(""),pe.setToolTip(ue.$t("is_running",["Alphabiz"])),pe.on("click",(()=>{global.win.show()})),pe.on("double-click",(()=>{global.win.show()})),pe.on("right-click",(()=>{pe.popUpContextMenu()}))},fe=({title:e,tooltip:t})=>{pe&&(void 0!==e&&pe.setTitle(e),void 0!==t&&pe.setToolTip(t))};let he=null;const ge=()=>{"function"===typeof he&&he(),he=ae()({showInspectElement:!1,labels:{learnSpelling:ue.$t("learn_spelling"),lookUpSelection:ue.$t("lookup_selection"),searchWithGoogle:ue.$t("search_with_google"),cut:ue.$t("cut"),copy:ue.$t("copy"),paste:ue.$t("paste"),saveImage:ue.$t("save_image"),saveImageAs:ue.$t("save_image_as"),copyLink:ue.$t("copy_link"),saveLinkAs:ue.$t("save_link_as"),copyImage:ue.$t("copy_image"),copyImageAddress:ue.$t("copy_image_address"),services:ue.$t("services")}})},me=e=>{e.forEach((e=>{e.label&&(e.label=ue.$t(e.label.toLowerCase().replace(/\s/g,"_"))),e.submenu&&me(e.submenu)}))},ve=()=>{const e=ce()(r["app"],r["shell"]);me(e);const t=e.find((e=>"help"===e.role)).submenu,n="https://github.com/tanshuai/alphabiz";if(t.splice(0,1,{label:ue.$t("github_repo"),click:()=>r["shell"].openExternal(n)},{label:ue.$t("issues"),click:()=>r["shell"].openExternal(n+"/issues")},{label:ue.$t("official_site"),click:()=>r["shell"].openExternal("https://alpha.biz")}),"darwin"===process.platform){var o;const t=null===(o=e[0])||void 0===o?void 0:o.submenu;t[0]={label:`${ue.$t("about")} ${r["app"].name}`,click(){global.win.send("about-dialog")}},t.splice(1,0,{label:ue.$t("check_for_update"),click(){kt(!0)}}),t.find((e=>"hide"===e.role)).label=ue.$t("hide")+" "+r["app"].name}else t.unshift({label:ue.$t("about"),click:()=>{global.win.send("about-dialog")}},{label:ue.$t("check_for_update"),click(){kt(!0)}},{type:"separator"});const s=e.findIndex((e=>e.label===ue.$t("edit"))),i=[{label:ue.$t("open_file"),accelerator:"CmdOrCtrl+O",click:()=>{r["dialog"].showOpenDialog({properties:["openFile"]}).then((e=>{var t;!e.canceled&&null!==(t=e.filePaths)&&void 0!==t&&t.length&&global.win.webContents.send("open-file",e.filePaths[0])}))}}];"darwin"!==process.platform&&i.push({label:ue.$t("quit"),click:()=>{r["app"].isQuitting=!0,r["app"].quit()}}),e.splice(s,0,{label:ue.$t("file"),submenu:i}),r["Menu"].setApplicationMenu(r["Menu"].buildFromTemplate(e))};let we=null;try{if(we=r["app"].getPath("downloads"),!we)throw""}catch(Ct){we=Object(l["resolve"])(Object(u["homedir"])(),"Downloads"),Object(i["existsSync"])(we)||(we=Object(l["resolve"])(Object(u["homedir"])(),"downloads"))}class be{constructor(){this.userSettings={},this.init()}init(){this.initUserSettings(),this.userSettings.get("autoUpdateTrackerServiceList")&&this.updateTrackers()}initUserSettings(){this.userSettings=new O.a({name:"alphabiz-config",defaults:{hideMenu:!0,autoHide:!1,language:r["app"].getLocale()||"en-US",darkMode:"system",autoLaunch:!1,restore:!0,autoStartUnfinished:!0,seedSharingRate:!0,seedTime:!1,maximumDownloadNum:5,maximumConnectionsNum:20,saveLinkSeed:!0,unlimited:!0,continuousSeeding:!0,breakpointContinuation:!1,autoJumpToDownload:!0,notifyAfterDownloaded:!1,deleteConfirm:!1,uploadSpeed:-1,downloadSpeed:-1,payedUserShareRadix:.7,downloadDirectory:we,autoUpload:!1,uploadDirectory:Object(l["resolve"])(we,"auto-upload"),unlimitUploadAmount:!1,autoCheckUpdate:!0,useProxyService:!0,trackerSource:[{value:"https://raw.githubusercontent.com/ngosang/trackerslist/master/trackers_best.txt",label:"ngosang_best",cdn:!1},{value:"https://raw.githubusercontent.com/ngosang/trackerslist/master/trackers_best_ip.txt",label:"ngosang_best_ip",cdn:!1}],trackerBt:"http://p4p.arenabg.com:1337/announce\nudp://tracker.opentrackr.org:1337/announce\nudp://9.rarbg.com:2810/announce\nudp://exodus.desync.com:6969/announce\nhttp://tracker.openbittorrent.com:80/announce\nhttp://openbittorrent.com:80/announce\nudp://www.torrent.eu.org:451/announce\nudp://wassermann.online:6969/announce\nudp://vibe.community:6969/announce\nudp://udp-tracker.shittyurl.org:6969/announce\nudp://tracker1.bt.moack.co.kr:80/announce\nudp://tracker0.ufibox.com:6969/announce\nudp://tracker.zerobytes.xyz:1337/announce\nudp://tracker.torrent.eu.org:451/announce\nudp://tracker.tiny-vps.com:6969/announce\nudp://tracker.theoks.net:6969/announce\nudp://tracker.ololosh.space:6969/announce\nudp://tracker.monitorit4.me:6969/announce\nudp://tracker.loadbt.com:6969/announce\nudp://tracker.leech.ie:1337/announce\nhttp://185.230.4.150:1337/announce\nudp://93.158.213.92:1337/announce\nudp://151.80.120.115:2810/announce\nudp://208.83.20.20:6969/announce\nhttp://45.154.253.7:80/announce\nhttp://198.251.84.144:80/announce\nudp://185.183.158.105:6969/announce\nudp://159.69.208.124:6969/announce\nudp://205.185.121.146:6969/announce\nudp://156.234.201.18:80/announce\nudp://173.212.223.237:6969/announce\nudp://51.15.55.204:1337/announce\nudp://89.234.156.205:451/announce\nudp://5.206.27.90:6969/announce\nudp://209.141.59.16:6969/announce\nudp://62.109.31.95:6969/announce\nudp://93.104.214.40:6969/announce\nudp://65.21.48.148:6969/announce\nudp://104.244.72.77:1337/announce",autoUpdateTrackerServiceList:!0,trackerLastUpdateTime:"",listenPort:!1,BTlistenPort:21303,DHTlistenPort:26701,bindMagnetUrl:!1,bindTorrentFile:!1,bindVideoFile:!1,bindAudioFile:!1,dontAskForAssociate:!1,userAgent:"",RPCauthorizationkey:"",versionChannel:"stable",lastUpdateCheckTime:Date.now()}}),this.userSettings.set("autoLaunch",r["app"].getLoginItemSettings().openAtLogin);const e=this.userSettings.get("language");this.updateLocales(e.value||e);const t=this.userSettings.get("darkMode");this.updateDarkMode(t)}set locale(e){ue.setLocale(e)}get locale(){return ue.locale}$t(e,t){return ue.$t(e,t)}updateLocales(e){this.locale=e,ve(),ge(),de()}updateDarkMode(e){r["nativeTheme"].themeSource={system:"system",light:"light",dark:"dark"}[e]}getUserSettings(e,t){return"undefined"===typeof e&&"undefined"===typeof t?this.userSettings.store:this.userSettings.get(e,t)}getLanguage(){return this.getUserSettings("language")||r["app"].getLocale()}setUserSettings(e){Object.keys(e).forEach((t=>{this.userSettings.set(t,e[t]),"language"===t?this.updateLocales(e[t].value||e[t]):"darkMode"===t?this.updateDarkMode(e[t]):"autoLaunch"===t&&r["app"].setLoginItemSettings({openAtLogin:e[t]})}))}resetSettings(){this.userSettings.clear()}async isMagnetRegistered(){const e=await D("magnet");return this.userSettings.set("bindMagnetUrl",!!e),!!e}async isTorrentAssociated(){const e=await B(".torrent");return this.userSettings.set("bindTorrentFile",!!e),!!e}async isVideoAssociated(){const e=await z();return this.userSettings.set("bindVideoFile",!!e),!!e}async isAudioAssociated(){const e=await N();return this.userSettings.set("bindAudioFile",!!e),!!e}async updateAssociateInfo(){return Promise.all([this.isMagnetRegistered(),this.isTorrentAssociated(),this.isAudioAssociated(),this.isVideoAssociated()])}async updateTrackers(){const e=this.userSettings.get("trackerSource");if(Array.isArray(e)){const t=await R(e);return t.data.length&&(this.userSettings.set("trackerBt",t.data.join("\n")),this.userSettings.set("trackerLastUpdateTime",t.time)),t}}clear(){this.userSettings.clear(),this.isMagnetRegistered(),this.isTorrentAssociated(),this.isAudioAssociated(),this.isVideoAssociated()}get path(){return this.userSettings.path}}var ye=n(41);const xe=[],Se=new Map,_e={on(e,t){Se.has(e)||Se.set(e,[]),Se.get(e).push(t)},emit(e,...t){xe.push({name:e,data:t})},emitSingle(e,...t){for(let n=0;n<xe.length;n++)xe[n].name===e&&(xe.splice(n,1),n--);xe.push({name:e,data:t})},off(e,t){const n=Se.get(e);if(!n)return;const r=n.indexOf(t);-1!==r&&n.splice(r,1)}};r["ipcMain"].on("_io_fetch",(e=>{e.reply("_io_response",xe),xe.length=0})),r["ipcMain"].on("_io_send",((e,t)=>{const{name:n,data:r}=t,o=Se.get(n);o&&o.forEach((e=>e(...r)))}));var ke=_e,Ue=(n(81),n(84),n(58)),Ce=n.n(Ue);n(85),n(56);const Ae=["udp://open.tracker.cl:1337/announce","udp://tracker.opentrackr.org:1337/announce","udp://9.rarbg.com:2810/announce","udp://tracker.openbittorrent.com:6969/announce","udp://exodus.desync.com:6969/announce","udp://www.torrent.eu.org:451/announce","udp://tracker1.bt.moack.co.kr:80/announce","udp://tracker.zerobytes.xyz:1337/announce","udp://tracker.torrent.eu.org:451/announce","udp://tracker.theoks.net:6969/announce","udp://tracker.srv00.com:6969/announce","udp://tracker.pomf.se:80/announce","udp://tracker.ololosh.space:6969/announce","udp://tracker.monitorit4.me:6969/announce","udp://tracker.moeking.me:6969/announce","udp://tracker.lelux.fi:6969/announce","udp://tracker.jordan.im:6969/announce","udp://tracker-udp.gbitt.info:80/announce","udp://retracker.sevstar.net:2710/announce","udp://retracker.netbynet.ru:2710/announce","udp://186.10.181.71:1337/announce","udp://93.158.213.92:1337/announce","udp://151.80.120.113:2810/announce","udp://45.154.253.6:6969/announce","udp://208.83.20.20:6969/announce","udp://91.216.110.52:451/announce","udp://156.234.201.18:80/announce","udp://62.210.217.207:1337/announce","udp://89.234.156.205:451/announce","udp://209.141.59.16:6969/announce","udp://62.109.31.95:6969/announce","udp://65.108.63.133:80/announce","udp://93.104.214.40:6969/announce","udp://163.172.170.127:6969/announce","udp://95.217.161.135:6969/announce","udp://213.108.105.23:6969/announce","udp://109.72.83.209:80/announce","udp://78.30.254.12:2710/announce","udp://212.1.226.176:2710/announce","udp://tracker.leechers-paradise.org:6969","udp://tracker.coppersurfer.tk:6969","udp://tracker.opentrackr.org:1337","udp://explodie.org:6969","udp://tracker.empire-js.us:1337","wss://tracker.btorrent.xyz","wss://tracker.openwebtorrent.com"],je=e=>Ae.indexOf(e),Te=e=>Ae[e];var Oe={getTrackerById:Te,getIdByTracker:je};const Pe=e=>{const t="magnet:?xt=urn:btih:"+e.infoHash+"&dn="+(encodeURIComponent(e.name)||e.origin||e.infoHash);let n="";if(e.trackers&&(n+=e.trackers.filter((e=>e.length)).map((e=>`&tr=${encodeURIComponent(e)}`)).join("")),e.others)for(const o in e.others){var r;null!==(r=e.others[o])&&void 0!==r&&r.length&&(n+=e.others[o].map((e=>`&${o}=${encodeURIComponent(e)}`)).join(""))}return t+n},Re=e=>{var t;const n=new URL(e);if("magnet:"!==n.protocol)throw new Error("Input is not a magnet uri");const r=n.searchParams.get("xt"),o=null===(t=r.match(/[^:]+$/))||void 0===t?void 0:t[0];if(!o)throw new Error("Cannot parse magnet infoHash");const s=n.searchParams.get("dn")||"",i=n.searchParams.getAll("tr").map((e=>{const t=Oe.getIdByTracker(e);return-1!==t?t:e})),a={};return n.searchParams.forEach(((e,t)=>{["xt","dn","tr"].includes(t)||(a[t]||(a[t]=[]),a[t].push(e))})),{protocolType:"01",infoHash:Buffer.from("01"+o,"hex").toString("base64").replace(/\//g,"_"),name:s,trackers:i,others:a}};var Le={fromObject:Pe,toObject:Re};const Ie=async e=>{let t="alphabiz://"+e.name.replace(/\s/g,"+").replace(/\//g,"_").replace(/\&/g,"+amp;")+"/"+e.infoHash,n=[],r=[];for(const a of e.trackers)"number"===typeof a?n.push(a.toString(16)):r.push(a);let o=n.map((e=>("0000"+e).slice(-4))).join("")+"&tr="+r.join("&");for(const a in e.others){var s;null!==(s=e.others[a])&&void 0!==s&&s.length&&(o=o+"&"+a+"="+e.others[a].join(""))}const i=(await Ce.a.compress(o,9)).toString("base64");return o=Buffer.from(o).toString("base64"),o.length>i.length&&(o=i),t+"&"+o.replace(/\//g,"_")},Me=async e=>{if(!e.startsWith("alphabiz://"))return null;const t=e.replace("alphabiz://","").split("&");2!==t.length&&console.error("str is invalid alphabiz uri");const[n,r]=t,o=n.lastIndexOf("/");if(-1===o)return null;const s=n.substring(0,o).replace(/\+/g," ").replace(/_/g,"/").replace(/\+amp;/g,"&"),i=n.substring(o+1),a=Buffer.from(i.replace(/_/g,"/"),"base64").toString("hex"),l=a.substring(0,2),c=a.substring(2);let u="";try{const e=await Ce.a.decompress(Buffer.from(r.replace(/_/g,"/"),"base64"));e&&(u=e.toString("base64"))}catch(Ct){}const p=Buffer.from(u,"base64").toString().split("&"),[d,...f]=p,h=[];for(let v=0;v<d.length;v+=4){const e=parseInt(d.substring(v,v+4),16),t=Oe.getTrackerById(e);t&&h.push(t)}let g=!1;const m={};for(const v of f)if(v.startsWith("tr="))h.push(v.substring(3));else if(v.includes("=")){g=!0;const[e,t]=v.split("=");m[e]||(m[e]=[]),m[e].push(t)}else h.push(v);return{protocolType:l,infoHash:c,name:s,trackers:h,others:m,origin:e}},Ee=async e=>{if(e.startsWith("magnet"))return Ie(Le.toObject(e));throw new Error("Unsupported source url")},$e=async e=>{const t=await Me(e);if("01"===t.protocolType)return Le.fromObject(t);throw new Error(`Unsupported protocol type ${t.protocolType}`)};var qe={encode:Ee,decode:$e};const He=e=>{if(!e)return null;try{let t=c.a.dirname(e[0]);for(let n=1;n<e.length;n++)while(!e[n].includes(t)&&t.length>1)t=c.a.dirname(t);return t}catch(Ct){return null}};class Fe extends Array{push(...e){for(const t of e){if(!t.infoHash&&t.token){const e=super.findIndex((e=>e.token===t.token));-1!==e?super[e]=t:super.push(t)}if(!t.infoHash)continue;if(Array.isArray(t)||t[0])throw new Error("find array");const e=super.findIndex((e=>e.token===t.token));-1===e?super.some((e=>e.infoHash&&e.infoHash===t.infoHash))||super.push(t):super[e]=t}return super.length}unshift(...e){for(const t of e)super.some((e=>e.infoHash===t.infoHash))||super.unshift(t);return super.length}}function De({io:e,win:t}){return{max:5,downloading:new Fe,uploading:new Fe,pending:new Fe,paused:new Fe,downloaded:new Fe,clear(){this.downloading.length=0,this.uploading.length=0,this.pending.length=0,this.paused.length=0,this.downloaded.length=0},isMax(){return this.downloading.length>=this.max},findIndex(e,t){return t.findIndex((t=>t.infoHash===e||t.token===e))},find(e,t){const n=this.findIndex(e,t);return-1===n?null:t[n]},findAll(e){for(const t of this.torrents()){const n=this.find(e,t);if(n)return n}return null},pop(e,t){const n=this.findIndex(e,t);return-1!==n?t.splice(n,1)[0]:null},popFromAll(e){let t=null;for(const n of this.torrents()){const r=this.pop(e,n);r&&(t=r)}return t},isPaused(e){return-1!==this.findIndex(e,this.paused)},isDownloading(e){return-1!==this.findIndex(e,this.downloading)},has(e){return this.torrents().flat().some((t=>t.infoHash===e))},pend(e){const n=this.popFromAll(null===e||void 0===e?void 0:e.infoHash);n?(n.pending=!0,this.pending.push(n)):(e.pending=!0,this.pending.push(e)),t.webContents.send("pend-torrent",e)},download(e){let n=e.token||e.infoHash||e.origin;if(n.startsWith("alphabiz://")&&(n=qe.decode(n)),a.a.existsSync(n)?e.torrentPath=n:a.a.existsSync(e.origin)&&(e.torrentPath=e.origin),e.trackers||(e.trackers=nt.userSettings.get("trackerBt").split("\n")),this.isPaused(e.infoHash)){const t=this.pop(e.infoHash,this.paused);return t.paused=!1,j.updateTorrent(t),this.downloading.push(t),this.download(e)}t.webContents.send("add-torrent",n,e),this.next()},upload(n,r=!1){n.missFile=!1,n.missAllFile=!0;const o=[];if(this.pop(n.infoHash,this.paused),this.pop(n.infoHash,this.downloaded),this.findAll(n.infoHash)&&(console.warn("Torrent may add duplicating",n.infoHash),this.popFromAll(n.infoHash)),n.file&&n.file.length){if(!n.path){const e=He(n.file);n.file.length>1?(n.path=c.a.dirname(e),n.name=c.a.basename(e)):(n.path=e,n.name=c.a.basename(n.file[0]))}if(r&&this.uploading.some((e=>e.path===n.path&&e.name===n.name)))return e.emit("torrent_error",{message:"Cannot add duplicate torrent"});for(const e of n.file)a.a.existsSync(e)?n.missAllFile=!1:(n.missFile=!0,o.push(e))}if(o.push("---"),n.files)for(const e of n.files)a.a.existsSync(e.path)?n.missAllFile=!1:(n.missFile=!0,n.upload=!1,n.isSeeding=!1,n.download=!1,e.missing=!0,o.push(e.path));if(n.missFile)return this.uploading.push(n),e.emit("torrent_seed_error",n,o);t.webContents.send("seed-torrent",n),n.infoHash&&this.uploading.push(n)},pause(n,r=!1){console.log("Pause",n);const o=this.popFromAll(n);e.emit("pause_torrent",n),o&&(o.pending=!1,o.paused=!0,this.paused.push(o),t.webContents.send("stop-torrent",n),r||this.next())},delete(n,r=!1){j.delTorrent(n),console.log("To delete:",n,r&&"destroy store");const o=this.popFromAll(n);if(e.emit("torrent_delete",n),o&&(t.webContents.send("delete-torrent",n,r),r&&(o.paused||o.pending&&!o.isSeeding||o.done&&!o.isSeeding))){var s,i;null===(s=o.files)||void 0===s||s.forEach((e=>{const t=(null===e||void 0===e?void 0:e.path)||e;a.a.existsSync(t)&&a.a.unlinkSync(t)}));const e=He((null===(i=o.files)||void 0===i?void 0:i.map((e=>e.path||e)))||[]);if(a.a.existsSync(e)&&nt.getUserSettings("downloadDirectory")!==e&&0===a.a.readdirSync(e).filter((e=>![".DS_Store","Thumbs.db"].includes(e))).length)try{a.a.rmdirSync(e),console.log("Unlink",e)}catch(l){}j.delTorrent(o.infoHash)}},remove(e){for(const t of this.torrents()){const n=t.findIndex((t=>t.infoHash===e));if(-1!==n)return t.splice(n,1)[0]}},next(){for(let e=0;e<this.downloading.length;e++){const t=this.downloading[e];t.isSeeding?(this.downloading.splice(e--,1),this.uploading.push(t)):t.done&&(this.downloading.splice(e--,1),this.downloaded.push(t))}for(let e=0;e<this.downloaded.length;e++){const t=this.downloaded[e];t.completed&&t.paused||(this.downloaded.splice(e--,1),this.uploading.push(t))}for(let e=0;e<this.uploading.length;e++){const t=this.uploading[e];t.isAutoUpload||(t.paused?(this.uploading.splice(e--,1),this.downloaded.push(t)):t.isSeeding||t.upload||(this.uploading.splice(e--,1),this.downloading.push(t)))}for(let e=0;e<this.paused.length;e++){const t=this.paused[e];(t.done||1===t.progress)&&(this.paused.splice(e--,1),this.downloaded.push(t))}if(!this.isMax()){if(!this.pending.length)return;const e=this.pending.shift();return e&&(e.upload?this.upload(e):(this.downloading.push(e),this.download(e))),this.next()}{if(this.downloading.length===this.max)return;const e=this.downloading.splice(this.max);console.log("Maximun task, rests:",e.length),e.forEach((e=>{e.done||e.upload||e.isSeeding?this.upload(e):this.pend(e)}))}},torrentList(){return{downloading:this.downloading,pending:this.pending,paused:this.paused,uploading:this.uploading,downloaded:this.downloaded}},torrentDisplayList(){const e=this.torrentList(),t=[].concat(e.downloading,e.pending,e.paused.filter((e=>!e.isSeeding)));let n=0,r=!1;const o=[0,0];t.forEach((e=>{if(!e.pending&&(e.paused||!e.ready)||!e.length){if(!e.download||!e.downloaded||e.paused)return;n-=e.downloadSpeed}o[0]+=e.downloaded,o[1]+=e.length,n+=e.downloadSpeed,r=!0}));const s=o[0]/o[1],i=[].concat(e.uploading,e.paused.filter((e=>e.isSeeding))),l=i.reduce(((e,t)=>t.paused||t.uploadSpeed<=0?e:e+t.uploadSpeed),0)||0,c=(e.downloaded.map((e=>{if(e.missFile=!1,e.missAllFile=!0,e.file&&e.file.length){e.path||(e.path=He(e.file));for(const t of e.file)a.a.existsSync(t)?e.missAllFile=!1:e.missFile=!0}if(e.files)for(const t of e.files)a.a.existsSync(t.path)?e.missAllFile=!1:(e.missFile=!0,e.upload=!1,e.isSeeding=!1,e.download=!1,t.missing=!0)})),{downloading:t,totalDownloadProgress:s,totalDownloadSpeed:n,uploading:i,totalUploadSpeed:l,downloaded:e.downloaded,all:[...t,...i,...e.downloaded]});return c.all.length<c.downloaded.length+c.downloading.length+c.uploading.length&&(console.log(all),all=[].concat(c.downloading,c.downloaded,c.uploading)),r?global.win.setProgressBar(s):global.win.setProgressBar(-1),c},torrents(){return[this.downloading,this.uploading,this.paused,this.pending,this.downloaded]},list(){return this.torrents().flat().map((e=>{if(!e.infoHash)return null;const t=j.getTorrent(e.infoHash);return t?C(t,e):e})).filter((e=>e))}}}async function Be({ipcMain:e,win:t,io:n}){n.on("set_user",(e=>{t.webContents.send("set-user",e)})),n.on("credit_payment_created",(e=>{t.webContents.send("payment-info",e)})),n.on("restart_payment",(e=>t.webContents.send("restart-payment",e))),n.on("payment_verified",(e=>{t.webContents.send("payment-verified",e)})),e.on("webtorrent-request-renew",((e,t)=>{n.emit("request_renew",t)})),e.on("webtorrent-payment-finished",((e,t)=>{console.log("Finished",t.id),n.emit("payment_finished",t)})),e.on("webtorrent-finish-all-payments",((e,t)=>{if(null===t||void 0===t||!t.connections)return;const r=t.connections;r.forEach((e=>{e.transactions&&e.transactions.forEach((e=>{console.log("finish pending pament",e),n.emit("payment_finished",{id:e})}))}))})),e.on("webtorrent-set-throttle",((e,t)=>{0!==t.code&&n.emit("client_error",t.message)})),e.on("webtorrent-verify-payment",((e,t)=>{n.emit("verify_payment",t)})),e.on("webtorrent-payment-completed",((e,t)=>{n.emit("payment_completed",t)})),n.on("complete_payment",(e=>{t.webContents.send("complete-payment",e)})),n.on("finish_payment",(e=>{t.webContents.send("finish-payment",e)})),n.on("set_throttle_group",(({infoHash:e,id:n,subId:r,level:o})=>{t.webContents.send("set-throttle-group",{infoHash:e,peerId:n,subId:r,level:o})}))}const ze=e=>!e.startsWith(".")&&(![".ini",".tmp",".log",".torrent",".db"].some((t=>e.endsWith(t)))&&!(e.includes("$RECYCLE.BIN")||e.includes(".thumbs.db")||e.includes("Thumbs.db")));function Ne(e){const t=Object(i["readdirSync"])(e);for(let n=0;n<t.length;n++){if(!ze(t[n])){t.splice(n--,1);continue}const r=Object(l["resolve"])(e,t[n]);Object(i["statSync"])(r).isDirectory()?t[n]=Ne(r):t[n]=r}return t.flat(1/0)}function Ge(e,{byte:t=!0,gb:n=!0}={}){if("number"!==typeof e)return"-";if(e<1e3&&t)return e.toFixed(2)+" Byte";const r=e/1e3;if(isNaN(r))return"0 Byte";if(r<1e3)return r.toFixed(2)+" KB";const o=r/1e3;if(o<1e3||!n)return o.toFixed(2)+" MB";const s=o/1e3;return s.toFixed(2)+" GB"}global.__statics=__dirname;let We=null;const Ke={ready:new Promise((e=>We=e))};var Ve=Ke;let Qe=null,Ze=!1;const Je={enabled:!1,ready:!1,addressSent:!1,file:"",fileindex:0,address:"",infoHash:"",filepath:""},Ye=e=>{Je.infoHash===e&&(Object.assign(Je,{enabled:!1,ready:!1,addressSent:!1,file:"",fileindex:0,address:"",infoHash:"",filepath:""}),Qe&&Qe.webContents.send("stop-server"))};let Xe=null;const et=e=>{if(Xe&&(Xe.close(),Xe=null),!a.a.existsSync(e))return console.log("cannot find upload dir",e);const t=e=>{Qe?(ke.emit("autoupload-start"),Qe.webContents.send("autoupload-files",e)):setTimeout((()=>t(e)),1e3)},n=(e,t)=>{let n=null;return(...r)=>{clearTimeout(n);n=setTimeout((()=>e(...r)),t)}},r=n((()=>{if(!nt.getUserSettings("autoUpload"))return t([]),console.log("skip autoUpload");const n=Ne(e);n.length>10&&!nt.getUserSettings("unlimitUploadAmount")?(t([]),ke.emit("request_unlimit_upload")):t(n)}),1e3);Xe=a.a.watch(e,{recursive:!0},r),r()};r["app"].whenReady().then((()=>{r["protocol"].registerFileProtocol("play",((e,t)=>{Ye(Je.infoHash);const[n]=e.url.replace(/^play/,"file").split("?"),r=decodeURI(n);console.log("Play:",Object(ye["fileURLToPath"])(r)),t(Object(ye["fileURLToPath"])(r))}))}));const tt=()=>{if(null!==Qe)return;Qe=new r["BrowserWindow"]({show:!1,width:200,height:200,skipTaskbar:!0,x:0,y:0,title:"webtorrent-hidden",webPreferences:{nodeIntegration:!0,nodeIntegrationInWorker:!0,contextIsolation:!1,enableBlinkFeatures:"AudioVideoTracks",enableRemoteModule:!0,backgroundThrottling:!1}});const e="file://"+__dirname+"/index.html";return Qe.loadURL(e.replace("index","webtorrent")),Qe.on("close",(e=>{r["app"].isQuitting?Qe=null:(e.preventDefault(),Qe.hide())})),Qe.on("ready-to-show",(()=>{const e=nt.getUserSettings();Qe.webContents.send("set-client",{downloadLimit:e.downloadSpeed,uploadLimit:e.uploadSpeed,maximumConnectionsNum:e.maximumConnectionsNum})})),r["ipcMain"].on("open-webtorrent-devtools",(()=>{var e,t;null===(e=Qe)||void 0===e||null===(t=e.webContents)||void 0===t||t.openDevTools({mode:"detach"})})),r["ipcMain"].on("reset-torrent",(()=>{Qe.webContents.send("reset-torrent")})),Qe};r["app"].on("ready",(()=>{tt();const e=De({io:ke,win:Qe});Be({ipcMain:r["ipcMain"],win:Qe,io:ke}),r["ipcMain"].on("webtorrent-client-info",((e,t)=>{ke.emit("client_info",t)})),r["ipcMain"].on("webtorrent-infohash",((t,n,r)=>{{ke.emit("torrent_infohash",n,r);const t=e.findAll(n);if(t&&!t.isSeeding)return r||(r={}),t.paused=!1,void ke.emit("torrent_download",{...r,...t,infoHash:n});if(r.done||r.upload||r.isSeeding)return;e.downloading.push({...r,infoHash:n})}})),r["ipcMain"].on("webtorrent-metadata",((e,t)=>{ke.emit("torrent_metadata",t)})),r["ipcMain"].on("webtorrent-seed",((t,n)=>{n.infoHash&&(e.pop(n.infoHash,e.paused),e.pop(n.infoHash,e.downloaded)),e.uploading.push(n),j.updateTorrent(n),ke.emit("torrent_seed",n)})),r["ipcMain"].on("webtorrent-torrents",(async(t,n)=>{const r=[];for(const s of n){const t=j.getTorrent(s.infoHash)||s,n=s.upload||s.isSeeding||s.done,o=n?"uploading":"downloading";if(!s.infoHash){e[o].push(s);continue}if(e.isPaused(s.infoHash)){e.pop(s.infoHash,e.paused);s.paused=!1,n?e.uploading.push(C(t,s)):e.downloading.push(C(t,s))}const i=e.findIndex(s.infoHash,e[o]),a=e[o][i];if(a){const n=C(a,s);!n.alphabizURI&&n.magnetURI&&(n.alphabizURI=await qe.encode(s.magnetURI)),e[o][i]=C(t,n)}else e.popFromAll(s.infoHash),!s.alphabizURI&&s.magnetURI&&(s.alphabizURI=await qe.encode(s.magnetURI)),e[o].push(C(t,s));r.push(C(t,e[o][i]||s))}e.next(),j.updateTorrents(r);const o=e.torrentDisplayList();"darwin"===process.platform&&(o.downloading.length&&o.totalDownloadSpeed?fe({title:Ge(o.totalDownloadSpeed,{byte:!1,gb:!1})+" / s"}):fe({title:""})),ke.emitSingle("torrent_list",o)})),r["ipcMain"].on("webtorrent-pending",((t,n)=>{n.ready=!0,n.paused=!1,n.pending=!0;const r=e.pop(n.infoHash,e.downloading);r&&e.pending.push(r),ke.emit("torrent_download",n)})),r["ipcMain"].on("webtorrent-stop",((t,n,r)=>{if(e.has(n)){ke.emit("pause_torrent",n);const t=e.find(n,e.paused)||e.find(n,e.downloaded);t&&(t.connections=[],r&&(e.popFromAll(n),e.downloaded.push(t),t.completed=!0),t.paused=!0,t.pending=!1,j.updateTorrent(t)),console.log("Paused",n,r)}else j.delTorrent(n),console.log("(Pause)Deleted",n),ke.emit("torrent_delete",n);ke.emitSingle("torrent_list",e.torrentDisplayList())})),r["ipcMain"].on("webtorrent-delete",((t,n,r)=>{if(console.log("ipc deleted",n,r),r&&nt.getUserSettings("downloadDirectory")!==r)try{0===a.a.readdirSync(r).filter((e=>![".DS_Store","Thumbs.db"].includes(e))).length&&(a.a.rmdirSync(r),console.log("[delete] remove",r))}catch(o){}e.popFromAll(n),ke.emit("torrent_delete",n)})),r["ipcMain"].on("webtorrent-existed",((t,n)=>{e.findAll(n)&&ke.emit("torrent_exists")})),r["ipcMain"].on("webtorrent-done",((e,t)=>{if(ke.emit("torrent_done",t),!nt.getUserSettings("notifyAfterDownloaded"))return;const n=new r["Notification"]({title:ue.$t("download_complete"),body:ue.$t("download_complete_message",[t.name])});n.on("click",(()=>{const e=He((t.files||t.file).map((e=>e.path||e)));console.log(e),r["shell"].openExternal("file://"+e)})),n.show()})),r["ipcMain"].on("webtorrent-save-torrent",((t,n)=>{if(0!==n.code)return ke.emit("client_error",n.message);const r=e.findAll(n.infoHash);r&&(r.torrentPath=n.torrentPath,j.updateTorrent(r))})),r["ipcMain"].on("update_torrent_settings",((t,n)=>{Qe.webContents.send("set-client",n),n.maximumConnectionsNum&&(e.max=n.maximumDownloadNum),e.next()})),r["ipcMain"].on("webtorrent-initted",(async()=>{We&&We(),console.log("Webtorrent Init Ready"),ke.emit("info","Webtorrent Window is ready"),await Ke.ready,e.clear();const t=j.getTorrent(),n=nt.getUserSettings("autoStartUnfinished");t.forEach((t=>{t.isAutoUpload||(t.pending&&!t.isSeeding?n?e.pending.push(t):(t.paused=!0,e.paused.push(t)):t.paused?(t.pending=!1,t.completed||t.isSeeding?e.downloaded.push(t):e.paused.push(t)):!t.isSeeding&&!t.upload||t.origin?t.done?!t.paused&&n?t.paused?e.downloaded.push(t):e.upload(t):e.downloaded.push(t):n?(e.downloading.push(t),e.download(t)):(t.paused=!0,e.paused.push(t)):n?e.upload(t):(t.paused=!0,e.downloaded.push(t)))}));const r=nt.getUserSettings("uploadDirectory");et(r),e.next(),ke.emit("torrent_list",e.torrentDisplayList(),j.getOrders())})),r["ipcMain"].on("webtorrent-server-ready",((t,n,r)=>{Je.infoHash=n;const o=e.findAll(n);if(!o||!o.files)return global.win&&global.win.webContents.send("stream-address","play://"+Je.file);for(let e=0;e<o.files.length;e++){var s,i;if(null!==(s=o.files[e])&&void 0!==s&&null!==(i=s.path)&&void 0!==i&&i.includes(Je.filepath)){console.log(`Streamming video ${e} - ${o.files[e].name} via torrent server`),Je.file=o.files[e].name,Je.fileindex=e;break}}if(Je.address=`http://localhost:${r.port}/${Je.fileindex}/${Je.file}`,Je.ready=!0,!Je.enabled)return;const{addressSent:a,...l}=Je;console.log("[Stream] Send by server",l),global.win&&global.win.webContents.send("stream-address",l)})),r["ipcMain"].on("webtorrent-server-progress",((e,t,n)=>{t===Je.infoHash&&ke.emit("server_progress",n)})),r["ipcMain"].on("get-stream-address",(e=>{if(Je.enabled=!0,Je.ready){const{addressSent:t,...n}=Je;e.reply("stream-address",n)}})),r["ipcMain"].on("webtorrent-error",((e,t,n)=>{t.infoHash||ke.emit("torrent_error",{token:t.token||t.origin,message:n})})),r["ipcMain"].on("webtorrent-reset",(()=>{e.clear(),j.clear(),console.log("webtorrent reset"),ke.emitSingle("torrent_list",e.torrentDisplayList()),ke.emit("notify","Successfully reset torrents")})),r["ipcMain"].on("webtorrent-restart",((e,t)=>{console.log(`[${t}] WebTorrent Restart`)})),r["ipcMain"].on("autoupload-complete",(()=>{ke.emit("autoupload-complete")})),ke.on("download_torrent",(async t=>{let n="magnet"===t.type?t.url:t.file;n.startsWith("alphabiz")&&(n=await qe.decode(n));const r={infoHash:n,path:(null===t||void 0===t?void 0:t.path)||t.downloadDirectory,token:n,origin:n,trackers:t.trackers};return e.torrents().some((e=>e.token===n||e.origin===n))?ke.emit("torrent_exists"):e.download(r)})),ke.on("seed_torrent",(t=>{e.upload(t,!0)})),ke.on("pause_torrent",(t=>(Ye(t),e.pause(t)))),ke.on("pause_all",(()=>{console.log("pause all");const t=[];for(const n of["pending","downloading"])for(let r=0;r<e[n].length;r++){const o=e[n][r];o.paused||(o.pending=!1,o.paused=!0,e[n].splice(r--,1),e.paused.push(o),t.push(o),o.infoHash&&e.pause(o.infoHash,!0))}e.next(),j.updateTorrents(t)})),ke.on("resume_torrent",(t=>(Ye(t.infoHash),t.isSeeding||t.upload||t.done?e.upload(t):e.download(t)))),ke.on("delete_torrent",((t,n=!1)=>(console.log("destroyStore:",n),e.delete(t,n)))),ke.on("torrent_list",(()=>ke.emit("torrent_list",e.torrentDisplayList(),j.getOrders()))),ke.on("update_torrent_settings",(t=>{Qe.webContents.send("set-client",t),t.maximumConnectionsNum&&(e.max=t.maximumDownloadNum),e.next()})),ke.on("torrent_order",(e=>{if(!e)return ke.emit("torrent_order",j.getOrders());j.setOrders(e)})),ke.on("play-torrent",(({infoHash:t,filepath:n})=>{console.log("Play",t,n),Je.infoHash=t;const r=e.findAll(t);if(!r||!r.files)return ke.emit("play-torrent-error",t);ke.emit("play-torrent-enabled",t),Je.addressSent=!1,Je.enabled=!1,Je.ready=!1,Je.filepath=n;for(let e=0;e<r.files.length;e++){var o,s;if(null!==(o=r.files[e])&&void 0!==o&&null!==(s=o.path)&&void 0!==s&&s.includes(n)&&(console.log(`Streamming video ${e} - ${r.files[e].name}`),Je.file=r.files[e].name,Je.fileindex=e,r.files[e].progress&&1===r.files[e].progress)){var i;const t=Object(ye["pathToFileURL"])(null===(i=r.files[e])||void 0===i?void 0:i.path).href.replace(/^file/,"play");return Je.address=t,void(Je.ready=!0)}}if(r.paused){const n=e.pop(t,e.paused);e.download(n||r)}Qe.webContents.send("start-server",{infoHash:t,conf:r})})),ke.on("torrent_progress",(t=>{if(!t)return ke.emit("torrent_progress",{});if(Je.file){const n=e.findAll(t);if(!n||!n.files)return;for(const e of n.files)if(null!==e&&void 0!==e&&e.path.includes(Je.file))return ke.emit("torrent_progress",{name:e.name,path:e.path,progress:e.progress,infoHash:t})}return ke.emit("torrent_progress",{})})),ke.on("show_torrent_file",(e=>{r["shell"].showItemInFolder(e)})),ke.on("save_torrent_file",(t=>{const n=e.findAll(t);if(n&&n.path){if(n.isAutoUpload)return;Qe.webContents.send("save-torrent-file",t,n.path)}else console.log(n),ke.emit("client-error","Torrent Not Found")})),ke.on("unlimit_upload_amount",(()=>{nt.setUserSettings({unlimitUploadAmount:!0}),et(nt.getUserSettings("uploadDirectory"))})),ke.on("open-external-file",(e=>{r["shell"].openPath(e)})),Qe.on("ready-to-show",(async()=>{Ze||(Ze=!0)})),Qe.webContents.on("render-process-gone",((e,t)=>{if("clean-exit"!==t.reason)return r["app"].isQuitting=!0,r["app"].quit();Ze=!1,console.log("Webtorrent window crashed. Restarting...");const n="file://"+__dirname+"/index.html";Qe.loadURL(n.replace("index","webtorrent"))}))}));const nt=new be;function rt(e,t){return-1!==Object.prototype.toString.call(e).indexOf(t)}function ot(e,t,n){const r={};return Object.keys(e).forEach((n=>{t.find((t=>rt(e[n],t)))&&(r[n]=e[n])})),Object.assign(r,{...n})}function st(e,t={},n=!1){try{if(n)return void global.win.send("send_error",{eventName:e,data:t});global.win.send("send_result",{eventName:e,data:t})}catch(r){const o=ot(t,["Number","String","Boolean"],{received:t.received,downloaded:t.downloaded,downloadSpeed:t.downloadSpeed,uploaded:t.uploaded,uploadSpeed:t.uploadSpeed});if(n)return void global.win.send("send_error",{eventName:e,data:o});global.win.send("send_result",{eventName:e,data:o})}}r["ipcMain"].on("select_file",(e=>{r["dialog"].showOpenDialog({properties:["openFile"]}).then((e=>{e.filePaths.length&&st("select_file",e)}))})),r["ipcMain"].on("select_directory",(e=>{r["dialog"].showOpenDialog(global.win,{properties:["openDirectory"]}).then((e=>{e.filePaths.length?st("select_directory",e):st("select_directory")}))})),r["ipcMain"].on("to_browserurl",((e,t)=>{r["shell"].openExternal(t)})),r["ipcMain"].on("set_setting",((e,t)=>{console.log(t),j.setConfig(t),console.log(j.getConfig()),st("set_setting",{})})),r["ipcMain"].handle("deleteConfig",(async()=>{const e=nt.userSettings;try{return a.a.unlinkSync(e.path),"Successfully deleted: "+e.path}catch(t){return"Error: "+t}})),r["ipcMain"].handle("get-app-settings",(async(e={})=>{const t=nt.getUserSettings(e),n={...t};return n})),r["ipcMain"].on("get-item-settings",((e,t)=>{const n=nt.getUserSettings(t),r={...n};return r})),r["ipcMain"].on("set_settings",(async(e,t)=>{ee({magnet:t.bindMagnetUrl,torrent:t.bindTorrentFile,video:t.bindVideoFile,audio:t.bindAudioFile}),nt.setUserSettings(t),t.uploadDirectory&&(console.log(t.uploadDirectory),et(t.uploadDirectory))})),r["ipcMain"].on("get_setting",(async e=>{const t=j.getConfig()||{};t.downloadDirectory||(t.downloadDirectory=r["app"].getPath("downloads")),st("get_setting",t)})),r["ipcMain"].on("reset_settings",(async e=>{nt.resetSettings(),await nt.updateAssociateInfo(),console.log("resetted"),e.reply("reset_settings",nt.getUserSettings())})),r["ipcMain"].on("update_tracker",((e,t)=>{Array.isArray(t)&&nt.setUserSettings({trackerSource:t}),nt.updateTrackers().then((e=>{st("update_tracker",e)}))})),r["ipcMain"].on("setup_file_association",(()=>ee())),r["ipcMain"].on("app_window_control",((e,t)=>{const n={isMaximized:()=>global.win.isMaximized(),minimize:()=>global.win.minimize(),maximize:()=>global.win.maximize(),unmaximize:()=>global.win.unmaximize(),close:()=>global.win.close()};e.returnValue=n[t]()}));var it=n(95),at=n.n(it);const lt="alphabiz";function ct(){pt(lt),pt("ab",!0),r["app"].whenReady().then((()=>{{const e="file://"+__dirname+"/index.html",t=c.a.basename(e);ft(lt,t)}}))}function ut(e){return e&&(e.includes(`${lt}://`)||e.startsWith("ab://"))}function pt(e,t=!1){if("win32"===process.platform){const t=[];0,r["app"].setAsDefaultProtocolClient(e,process.execPath,t)}else"darwin"===process.platform&&r["app"].setAsDefaultProtocolClient(e);t||(r["app"].on("second-instance",((e,t,n,r)=>{if("win32"===process.platform){if(!t)return;const e=t.find(ut);if("string"!==typeof e)return;dt.dispatch(e),e.startsWith("alphabiz://$oauth")||global.win.webContents.send("open-file",e)}})),r["app"].on("open-url",((e,t)=>{"string"===typeof t&&ut(t)&&(dt.dispatch(t),t.startsWith("alphabiz://$oauth")||global.win.webContents.send("open-file",t))})))}process.env.APP_SCHEME=lt,r["protocol"].registerSchemesAsPrivileged([{scheme:process.env.APP_SCHEME,privileges:{standard:!0,secure:!0,supportFetchAPI:!0}}]),ct();class dt{static dispatch(e){const{event:t,pathname:n,params:r}=this.parseUrl(e);t&&this.emitter.emit(t,n,r,e)}static parseUrl(e){let{searchParams:t,host:n,pathname:r}=new URL(e);const o={};for(const[s,i]of t.entries())o[decodeURIComponent(s)]=decodeURIComponent(i);return n=decodeURIComponent(n),r=decodeURIComponent(r),{event:n,pathname:r,params:o}}static subscribe(e,t){this.emitter.addListener(e,t)}}function ft(e,t){const n=n=>{if(n===`${e}://${t}/`||n===`${e}://${t}/favicon.ico`||0===n.indexOf(`${e}://${t}/#`))return c.a.join(__dirname,t);{const r=n.replace(`${e}://${t}/`,"");return c.a.join(__dirname,r)}},o=e=>{const t=c.a.extname(e).toLowerCase();return{js:"text/javascript",html:"text/html",css:"text/css",svg:"image/svg+xml",svgz:"image/svg+xml",json:"application/json",wasm:"application/wasm"}[t.substring(1,t.length)]};r["protocol"].registerBufferProtocol(e,((e,t)=>{const r=n(e.url),s=a.a.readFileSync(r),i=o(r);t({mimeType:i,data:s})}))}s()(dt,"emitter",new at.a.EventEmitter);const ht=(e,t)=>{dt.subscribe(e,t)},gt="https://ab-domain-dev.auth.ca-central-1.amazoncognito.com",mt=e=>e.indexOf(gt)>=0,vt=e=>{e.event.preventDefault(),r["shell"].openExternal(e.url)};class wt{static start(){this.interval=setInterval((()=>{const e=this.attemptGetWebContents();e&&this.onGotWebContents()}),500)}static attemptGetWebContents(){let e;return global.win&&global.win.webContents?(this.webContents=global.win.webContents,e=!0):e=!1,e}static onGotWebContents(){clearInterval(this.interval),this.interval=null,this.messages.forEach((e=>{this.sendMessage(...e)})),this.messages=[]}static sendMessage(...e){this.webContents?this.webContents.send("lincoln-log",...e):(this.messages.push(e),this.interval||this.start())}}s()(wt,"messages",[]),s()(wt,"webContents",null),s()(wt,"interval",null),r["ipcMain"].on("shell:open",(()=>{const e="alphabiz://oauth?name=1&pwd=2";wt.sendMessage("open testUrl",e),r["shell"].openExternal(e)})),ht("$oauth",((e,t,n)=>{"alphabiz://$oauth/"!==n&&(t.name?wt.sendMessage("oauth >>",e,t):global.win.webContents.send("oauth_event",t,n))})),y(r["app"]),r["app"].setPath("crashDumps",c.a.resolve(r["app"].getPath("userData"),"CrashLogs")),r["crashReporter"].start({uploadToServer:!1,submitURL:""});try{"win32"===process.platform&&!0===r["nativeTheme"].shouldUseDarkColors&&n(4).unlinkSync(n(3).join(r["app"].getPath("userData"),"DevTools Extensions"))}catch(At){}process.argv.includes("--reset-all")?(nt.clear(),j.clear({destroyStore:!0})):(process.argv.includes("--reset-settings")&&nt.clear(),process.argv.includes("--reset-tasks-with-files")&&j.clear({destroyStore:!0}),process.argv.includes("--reset-tasks")&&j.clear()),r["ipcMain"].on("dev-info",(e=>{e.reply("dev-info",{torrentStore:j.path,settingStore:nt.path})}));const bt=[],yt=process.argv.includes("--")?process.argv[process.argv.indexOf("--")+1]:"";let xt;const St=r["app"].requestSingleInstanceLock();function _t(){r["app"].on("second-instance",((e,t,n,r)=>{if(xt&&(xt.isMinimized()&&xt.restore(),xt.isVisible()||xt.show(),xt.focus(),null!==t&&void 0!==t&&t.includes("--"))){const e=t[t.indexOf("--")+1];e&&e.length&&xt.webContents.send("open-file",e)}})),console.log("Creating main window"),console.log(__dirname);const e={frame:!1,width:1024,height:800,useContentSize:!0,backgroundThrottling:!1,webPreferences:{spellcheck:!0,enableRemoteModule:!0,enableBlinkFeatures:"AudioVideoTracks",nodeIntegration:!0,contextIsolation:!1,nodeIntegrationInWorker:!0,backgroundThrottling:!1},show:!1};"darwin"===process.platform&&(e.titleBarStyle="hidden",e.trafficLightPosition={x:12,y:16}),xt=new r["BrowserWindow"](e);{const e=process.env.APP_SCHEME,t=c.a.basename("file://"+__dirname+"/index.html");xt.loadURL(`${e}://${t}`)}xt.on("close",(e=>{r["app"].isQuitting||(e.preventDefault(),xt.hide())})),xt.on("closed",(()=>{xt=null,r["app"].quit()})),xt.webContents.on("new-window",((e,t,r,o,s,i,a,l)=>{mt(t)?vt({event:e,url:t,options:s,referrer:a,postBody:l}):(e.preventDefault(),n(0).shell.openExternal(t))})),xt.once("ready-to-show",(()=>{xt.show(),yt&&xt.webContents.send("open-file",yt),bt.length&&xt.webContents.send("open-file",...bt),nt.updateAssociateInfo().then((e=>{e.every((e=>e))||nt.getUserSettings("dontAskForAssociate")||setTimeout((()=>{xt.webContents.send("ask-for-associate")}),3e3)}))})),xt.on("enter-full-screen",(()=>{xt.setMenuBarVisibility(!1)})),xt.on("leave-full-screen",(()=>{xt.setMenuBarVisibility(!0)})),global.win=xt}St||r["app"].quit(),r["app"].on("before-quit",(e=>{r["app"].isQuitting||(r["app"].isQuitting=!0,r["app"].quit())})),r["app"].on("window-all-closed",(()=>{"darwin"!==process.platform&&r["app"].quit()})),r["app"].on("activate",(()=>{null===xt?_t():xt.isVisible()||xt.show()})),r["app"].on("open-file",((e,...t)=>{e.preventDefault(),xt?xt.webContents.send("open-file",...t):bt.push(...t)})),r["ipcMain"].on("dismiss-update",(()=>{b.isBusy=!1}));const kt=async(e=!1)=>{const t=nt.getUserSettings("versionChannel")||"stable";if(b.isBusy)return;b.isBusy=!0;const o=new b({version:n(52).version,channel:t||"stable",pre:"stable"!==t});e&&xt.webContents.send("start-checking-update");const s=await o.checkForUpdate();nt.setUserSettings({lastUpdateCheckTime:Date.now()}),s.shouldUpdate?(xt.webContents.send("update-available",{version:s.version,detail:s.detail}),r["ipcMain"].once("confirm-update",(()=>{let e;b.isBusy=!0,xt.webContents.send("update-downloading"),e=setInterval((()=>{const e={};for(const[t,n]of o.downloadProgress.entries())e[t]=n;xt.webContents.send("update-progress",e)}),1e3),o.downloadUpdate(s.assets).then((t=>{if(clearInterval(e),!t.length)return xt.webContents.send("update-not-available");xt.webContents.send("ready-to-restart"),setTimeout((()=>{r["shell"].openExternal("file://"+t[0]).then((()=>{r["app"].quit()}))}),1e4)})).catch((t=>{clearInterval(e),console.log("Failed",t),xt.webContents.send("update-failed",{reason:t.message||t})}))}))):(console.log("No new version available. Reason:",s.reason),b.isBusy=!1,e&&xt.webContents.send("update-not-available",{reason:"already_latest"}))};r["ipcMain"].on("check-for-update",(()=>{kt(!0)})),r["app"].on("ready",(async()=>{await Ve.ready,_t(),setTimeout((()=>{nt.getUserSettings("autoCheckUpdate")&&!b.isBusy&&kt(!1)}),1e4)}));const Ut=()=>{r["app"].isQuitting=!0,r["app"].quit(),r["app"].quit()};r["app"].on("render-process-gone",((e,t,n)=>{"clean-exit"!==n.reason&&Ut()})),r["app"].on("child-process-gone",((e,t)=>{"clean-exit"!==t.reason&&Ut()}))}]);